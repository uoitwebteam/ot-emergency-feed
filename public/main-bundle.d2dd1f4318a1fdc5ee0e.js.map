{"version":3,"sources":["webpack:///main-bundle.d2dd1f4318a1fdc5ee0e.js","webpack:///webpack/bootstrap d2dd1f4318a1fdc5ee0e","webpack:///./client/index.ts","webpack:///./client/lib/socket-client/socket.ts","webpack:///./client/lib/socket-client/socket-client.ts","webpack:///./client/lib/notification.ts","webpack:///./client/lib/dom.ts","webpack:///./client/lib/rss.ts","webpack:///./client/models/message-base.ts","webpack:///./client/models/service-disruption.ts","webpack:///./client/models/emergency-message.ts"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_0__message_base__","__WEBPACK_IMPORTED_MODULE_1__service_disruption__","__WEBPACK_IMPORTED_MODULE_2__emergency_message__","__WEBPACK_IMPORTED_MODULE_0__socket__","__WEBPACK_IMPORTED_MODULE_1__socket_client__","_toConsumableArray","arr","Array","isArray","arr2","length","from","value","__WEBPACK_IMPORTED_MODULE_0__lib_socket_client__","__WEBPACK_IMPORTED_MODULE_1__styles_main_scss__","__WEBPACK_IMPORTED_MODULE_2__lib__","__WEBPACK_IMPORTED_MODULE_3__models__","rss","toast","client","emergencyMessageBarEl","document","getElementById","emergencyFeedMessageEl","serviceDisruptionMessageEl","onNotify","secondsLeft","countdownDone","elements","concat","this","childNodes","countdownEl","find","el","classList","contains","innerHTML","ticker","setInterval","clearInterval","onDismiss","location","assign","on","_ref","data","viewedBefore","checkViewStatus","rssItems","parseItems","item","map","link","title","mediaContent","mediaDescription","pubDate","join","notify","duration","className","position","right","bottom","_ref2","description","_classCallCheck","instance","Constructor","TypeError","SocketConnection","_createClass","defineProperties","target","props","descriptor","writable","key","protoProps","staticProps","url","endpoint","_document","host","protocol","port","replace","connection","WebSocket","callback","onmessage","close","what","send","SocketPollClient","__WEBPACK_IMPORTED_MODULE_0____","_typeCallbacks","type","addSocketListener","_this","onMessage","event","console","log","eventData","JSON","parse","__WEBPACK_IMPORTED_MODULE_0__notification__","__WEBPACK_IMPORTED_MODULE_2__rss__","Notification","__WEBPACK_IMPORTED_MODULE_0__styles_notification_scss__","_defaults","arguments","undefined","message","options","_options","_notification","_getNotification","_transitionIn","setTimeout","_transitionOut","notificationClasses","_getNotificationClasses","template","createElement","content","firstChild","_this2","disableAnimation","body","appendChild","apply","remove","add","_this3","removeChild","_this4","keys","forEach","push","DomBuddy","to","_to","it","insertAdjacentHTML","_normalize","before","after","how","then","toString","NodeList","outerHTML","Node","querySelectorAll","Error","RSSUtility","transform","channelItems","channel","cookieName","COOKIE_NAME","encodeURIComponent","cookieDate","Date","getTime","err","warn","_getCookie","_setCookie","cookie","parts","split","pop","shift","date","setTime","toUTCString","MessageBase","dateString","months","getMonth","getDate","getFullYear","leadingZero","getHours","getMinutes","number","obj","reduce","result","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","TYPE_DISRUPTION","ServiceDisruption","_slicedToArray","sliceIterator","_arr","_n","_d","_e","_s","_i","Symbol","iterator","next","done","_MessageBase","getPrototypeOf","extractContent","_ref$title","_ref$description","_ref$link","_ref$guid","guid","_","_ref$summary","summary","_ref$article","article","_ref$pubDate","rawCategory","category","rawMedia","media","_rawMedia","_rawMedia$0$$","$","formatDate","TYPE_EMERGENCY","EmergencyMessage"],"mappings":"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","file":"main-bundle.d2dd1f4318a1fdc5ee0e.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 2);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__message_base__ = __webpack_require__(11);\n/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return __WEBPACK_IMPORTED_MODULE_0__message_base__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_disruption__ = __webpack_require__(12);\n/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return __WEBPACK_IMPORTED_MODULE_1__service_disruption__[\"a\"]; });\n/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return __WEBPACK_IMPORTED_MODULE_1__service_disruption__[\"b\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__emergency_message__ = __webpack_require__(13);\n/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return __WEBPACK_IMPORTED_MODULE_2__emergency_message__[\"a\"]; });\n/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return __WEBPACK_IMPORTED_MODULE_2__emergency_message__[\"b\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__weather_alert__ = __webpack_require__(14);\n/* unused harmony namespace reexport */\n\n\n\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__socket__ = __webpack_require__(3);\n/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return __WEBPACK_IMPORTED_MODULE_0__socket__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__socket_client__ = __webpack_require__(4);\n/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return __WEBPACK_IMPORTED_MODULE_1__socket_client__[\"a\"]; });\n\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_socket_client__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__styles_main_scss__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__styles_main_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__styles_main_scss__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lib__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__models__ = __webpack_require__(0);\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n// import { SocketPollClient } from 'mighty-polling-socket-server/dist';\n\n\n\n\nvar REDIRECT_URL = 'http://uoit.ca/emergency';\nvar rss = new __WEBPACK_IMPORTED_MODULE_2__lib__[\"b\" /* RSSUtility */]();\nvar toast = new __WEBPACK_IMPORTED_MODULE_2__lib__[\"a\" /* Notification */]();\nvar client = new __WEBPACK_IMPORTED_MODULE_0__lib_socket_client__[\"b\" /* SocketPollClient */]();\n/**\n * Hold references to all feed containers (also provides a null checks).\n */\nvar emergencyMessageBarEl = document.getElementById('emergencyMessageBar');\nvar emergencyFeedMessageEl = document.getElementById('emergencyFeedMessage');\nvar serviceDisruptionMessageEl = document.getElementById('serviceDisruptionMessage');\n/**\n * A bind-ready function for running a 5-second countdown\n * inside the notification displayed before emergency message\n * redirects, to notify of impending redirection.\n */\nvar onNotify = function startCountdown() {\n    var secondsLeft = 5,\n        countdownDone = false;\n    var elements = [].concat(_toConsumableArray(this.childNodes));\n    var countdownEl = elements.find(function (el) {\n        return el.classList && el.classList.contains('countdown');\n    });\n    countdownEl.innerHTML = secondsLeft + ' seconds';\n    var ticker = setInterval(function () {\n        secondsLeft--;\n        countdownDone = secondsLeft === 0;\n        countdownEl.innerHTML = countdownDone ? 'Now!' : secondsLeft + ' seconds';\n        countdownDone && clearInterval(ticker);\n    }, 1000);\n};\n/**\n * Performs a redirect after notification has been dismissed.\n */\nvar onDismiss = function onDismiss() {\n    return document.location.assign(REDIRECT_URL);\n};\n/**\n * Listens to incoming service disruption socket data. Responsible for\n * mapping `ServiceDisruptionRSSItem` objects to more useful `ServiceDisruption`\n * instances, and building a templated list from the items (if any).\n */\nclient.on(__WEBPACK_IMPORTED_MODULE_3__models__[\"d\" /* TYPE_DISRUPTION */], function (_ref) {\n    var data = _ref.data;\n\n    /** Sets and compares a cookie of last viewed pubDate */\n    var viewedBefore = rss.checkViewStatus(__WEBPACK_IMPORTED_MODULE_3__models__[\"d\" /* TYPE_DISRUPTION */], data);\n    if (serviceDisruptionMessageEl) {\n        var rssItems = rss.parseItems(data, function (item) {\n            return new __WEBPACK_IMPORTED_MODULE_3__models__[\"c\" /* ServiceDisruption */](item);\n        });\n        if (rssItems.length) {\n            serviceDisruptionMessageEl.innerHTML = rssItems.map(function (item) {\n                return '<div class=\"emergencyNewsItem\">\\n        <a href=\"' + item.link + '\" title=\"' + item.title + '\"><img src=\"' + item.mediaContent + '\" alt=\"' + item.mediaDescription + '\" width=\"100\" height=\"67\"></a>\\n        <p><strong><a href=\"' + item.link + '\">' + item.title + '</strong></a></p>\\n        <p class=\"date\">' + item.pubDate + '</p>\\n      </div>';\n            }).join('\\n');\n        }\n    } // else {\n    if (!viewedBefore) {\n        /** If not viewed, show notification and redirect to new page */\n        toast.notify('<span class=\"icon_emergency warning text-larger\"></span>\\n        <strong>Notice:</strong> A new service disruption has been posted! \\n        <a href=\"#\"><strong>More info &raquo;</strong></a>', {\n            duration: 8000,\n            className: 'warning',\n            position: {\n                right: true,\n                bottom: true\n            }\n        });\n    }\n    // }\n});\n/**\n * Listens to incoming emergency message socket data. Responsible for\n * mapping `RSSItem` objects to more useful `EmergencyMessage`\n * instances, and building a templated list from the items (if any).\n *\n * Checks and tracks view status of last received message; if last\n * has not been tracked as viewed, prompts user with a notification\n * and redirects to a new page. If already viewed, displays info bar.\n */\nclient.on(__WEBPACK_IMPORTED_MODULE_3__models__[\"e\" /* TYPE_EMERGENCY */], function (_ref2) {\n    var data = _ref2.data;\n\n    /** Sets and compares a cookie of last viewed pubDate */\n    var viewedBefore = rss.checkViewStatus(__WEBPACK_IMPORTED_MODULE_3__models__[\"e\" /* TYPE_EMERGENCY */], data);\n    var rssItems = rss.parseItems(data, function (item) {\n        return new __WEBPACK_IMPORTED_MODULE_3__models__[\"a\" /* EmergencyMessage */](item);\n    });\n    if (rssItems.length) {\n        if (emergencyFeedMessageEl) {\n            emergencyFeedMessageEl.innerHTML = rssItems.map(function (item) {\n                return '<p class=\"emergencyTitle\">' + item.title + '</p>\\n        <p class=\"emergencyDesc\">' + item.description + '</p>\\n        <p class=\"emergencyDate\">' + item.pubDate + '</p>';\n            }).join('\\n');\n        }\n        if (emergencyMessageBarEl && viewedBefore) {\n            /** If viewed before, just display info bar */\n            emergencyMessageBarEl.innerHTML = rssItems.map(function (item) {\n                return '<div class=\"row\">\\n        <a href=\"' + REDIRECT_URL + '\">\\n          <div class=\"emergencyAlert\">\\n          Emergency Alert\\n          </div>\\n          <div class=\"emergencyMessage\">\\n            <span class=\"emergencyTitle\">' + item.title + '</span>\\n            <span class=\"emergencyDesc\">' + item.description + '</span>\\n            <span class=\"emergencyDate\">' + item.pubDate + '</span>\\n          </div>\\n        </a>\\n      </div>';\n            }).join('\\n');\n        }\n        if (!viewedBefore) {\n            /** If not viewed, show notification and redirect to new page */\n            toast.notify('<span class=\"icon_emergency alert text-larger\"></span>\\n        <strong>Notice:</strong> You are about to be redirected to an emergency message!\\n        <br/><small>Redirecting in:</small> <strong class=\"countdown\"></strong>', {\n                duration: 5000,\n                className: 'alert',\n                position: {\n                    right: true,\n                    bottom: true\n                },\n                onNotify: onNotify,\n                onDismiss: onDismiss\n            });\n        }\n    } else {\n        if (emergencyFeedMessageEl) {\n            emergencyFeedMessageEl.innerHTML = '<p>\\n        There are no emergencies at the University of Ontario Institute of Technology at this time.\\n        <br>Please see information below for updates.\\n      </p>';\n        }\n        if (emergencyMessageBarEl) {\n            emergencyMessageBarEl.innerHTML = '';\n        }\n    }\n});\n// const TYPE_STATS = 'stats';\n// type TYPE_STATS = typeof TYPE_STATS;\n// type Stats = {\n//   pool: number;\n//   idle: boolean;\n//   intervals: any;\n//   log: any;\n// };\n// client.on<TYPE_STATS, Stats>('stats', ({ data }) => {\n//   console.info('[stats]', data)\n// });\n\n/***/ }),\n/* 3 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return SocketConnection; });\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Base class for providing a simple proxy to an instantiated\n * `WebSocket` connection.\n *\n * @export\n * @class SocketConnection\n */\nvar SocketConnection = function () {\n    function SocketConnection(url, endpoint) {\n        _classCallCheck(this, SocketConnection);\n\n        if (!url) {\n            var _document = document,\n                location = _document.location;\n            var host = location.host,\n                protocol = location.protocol,\n                port = location.port;\n\n            url = protocol.replace(/http/, 'ws') + '//' + host.replace(/:.*/, '') + (port && ':' + port);\n        }\n        url = url + '/' + (endpoint || '');\n        this.connection = new WebSocket(url);\n    }\n\n    _createClass(SocketConnection, [{\n        key: 'onMessage',\n        value: function onMessage(callback) {\n            this.connection.onmessage = callback;\n        }\n    }, {\n        key: 'close',\n        value: function close() {\n            this.connection.close();\n        }\n    }, {\n        key: 'send',\n        value: function send(what) {\n            this.connection.send(what);\n        }\n    }]);\n\n    return SocketConnection;\n}();\n\n/***/ }),\n/* 4 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return SocketPollClient; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0____ = __webpack_require__(1);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n/**\n * This class represents the base hub for all socket poll related\n * messaging and action. Its primary purpose is to pre-initialize a\n * socket connection, as well as provide callback functions for all\n * configured message types.\n *\n * @example\n * // configure a message type\n * const TYPE_EMERGENCY = 'emergency';\n * // initialize a new feed\n * const feed = new SocketPollClient();\n * // assign an action to a message type\n * feed.on(TYPE_EMERGENCY, items => {...});\n *\n * @export\n * @class SocketPollClient\n */\nvar SocketPollClient = function () {\n    function SocketPollClient() {\n        _classCallCheck(this, SocketPollClient);\n\n        this._typeCallbacks = {};\n    }\n    /**\n     * @template T\n     * @param {string} type\n     * @param {(items: T) => void} callback\n     * @memberof SocketPollClient\n     */\n\n\n    _createClass(SocketPollClient, [{\n        key: 'on',\n        value: function on(type, callback) {\n            this._typeCallbacks[type] = callback;\n            this.addSocketListener(type);\n        }\n        /**\n         * Initializes event listener for socket messages with the\n         * pre-initialized socket connection; passes event data from\n         * message to this class' `onMessage` method.\n         *\n         * @private\n         * @template T\n         * @template D\n         * @param {T} type\n         * @memberof SocketPollClient\n         */\n\n    }, {\n        key: 'addSocketListener',\n        value: function addSocketListener(type) {\n            var _this = this;\n\n            var socket = new __WEBPACK_IMPORTED_MODULE_0____[\"a\" /* SocketConnection */](null, type);\n            socket.onMessage(function (event) {\n                return _this.onMessage(type, event);\n            });\n            console.log('[socket] added listener for \"' + type + '\"');\n        }\n        /**\n         * Receives a socket's `MessageEvent`; parses the raw string data\n         * into a usable object; determines the type of emergency message\n         * and calls the appropriate callback with the parsed data as its\n         * first argument.\n         *\n         * @private\n         * @template T\n         * @template D\n         * @param {T} type\n         * @param {MessageEvent} event\n         * @memberof SocketPollClient\n         */\n\n    }, {\n        key: 'onMessage',\n        value: function onMessage(type, event) {\n            var eventData = JSON.parse(event.data);\n            console.log('[socket] ' + eventData.type + ' message received', eventData);\n            this._typeCallbacks[type](eventData);\n        }\n    }]);\n\n    return SocketPollClient;\n}();\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 6 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__notification__ = __webpack_require__(7);\n/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return __WEBPACK_IMPORTED_MODULE_0__notification__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__dom__ = __webpack_require__(9);\n/* unused harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__rss__ = __webpack_require__(10);\n/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return __WEBPACK_IMPORTED_MODULE_2__rss__[\"a\"]; });\n\n\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Notification; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__styles_notification_scss__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__styles_notification_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__styles_notification_scss__);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\nvar Notification = function () {\n    function Notification() {\n        var _defaults = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n        _classCallCheck(this, Notification);\n\n        this._defaults = _defaults;\n    }\n\n    _createClass(Notification, [{\n        key: 'notify',\n        value: function notify(message) {\n            var _this = this;\n\n            var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n            this._options = Object.assign({}, this._defaults, options);\n            this._notification = this._getNotification(message);\n            this._transitionIn();\n            if (this._options.duration) {\n                setTimeout(function () {\n                    _this._transitionOut();\n                }, this._options.duration);\n            }\n            return this;\n        }\n    }, {\n        key: 'dismiss',\n        value: function dismiss() {\n            this._transitionOut();\n        }\n    }, {\n        key: '_getNotification',\n        value: function _getNotification(message) {\n            var notificationClasses = this._getNotificationClasses();\n            var template = document.createElement('template');\n            template.innerHTML = '<div data-closable class=\"callout alert-callout ' + notificationClasses + '\">\\n      ' + message + '\\n      <button class=\"close-button\" aria-label=\"Dismiss alert\" type=\"button\" data-close>\\n        <span aria-hidden=\"true\">\\u2297</span>\\n      </button>\\n    </div>';\n            return template.content.firstChild;\n        }\n    }, {\n        key: '_transitionIn',\n        value: function _transitionIn() {\n            var _this2 = this;\n\n            if (this._options.disableAnimation) {\n                document.body.appendChild(this._notification);\n                this._options.onNotify && this._options.onNotify.apply(this._notification);\n            } else {\n                this._notification.classList.remove('fadeOutUp');\n                this._notification.classList.add('fadeInDown');\n                document.body.appendChild(this._notification);\n                setTimeout(function () {\n                    _this2._options.onNotify && _this2._options.onNotify.apply(_this2._notification);\n                }, 1000);\n            }\n        }\n    }, {\n        key: '_transitionOut',\n        value: function _transitionOut() {\n            var _this3 = this;\n\n            if (this._options.disableAnimation) {\n                document.body.removeChild(this._notification);\n                this._options.onDismiss && this._options.onDismiss.apply(this._notification);\n            } else {\n                this._notification.classList.remove('fadeInDown');\n                this._notification.classList.add('fadeOutUp');\n                setTimeout(function () {\n                    document.body.removeChild(_this3._notification);\n                    _this3._options.onDismiss && _this3._options.onDismiss.apply(_this3._notification);\n                }, 1000);\n            }\n        }\n    }, {\n        key: '_getNotificationClasses',\n        value: function _getNotificationClasses() {\n            var _this4 = this;\n\n            var notificationClasses = ['notification'];\n            this._options.position && Object.keys(this._options.position).forEach(function (key) {\n                _this4._options.position[key] && notificationClasses.push('notification-' + key);\n            });\n            this._options.className && notificationClasses.push(this._options.className);\n            !this._options.disableAnimation && notificationClasses.push('animated');\n            return notificationClasses.join(' ');\n        }\n    }]);\n\n    return Notification;\n}();\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 9 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export DomBuddy */\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar DomBuddy = function () {\n    function DomBuddy() {\n        _classCallCheck(this, DomBuddy);\n    }\n\n    _createClass(DomBuddy, [{\n        key: 'addClass',\n\n        /**\n         * PUBLIC METHODS\n         */\n        value: function addClass(what) {\n            return {\n                to: this._to(function (it) {\n                    return it.classList.add(what);\n                })\n            };\n        }\n    }, {\n        key: 'removeClass',\n        value: function removeClass(what) {\n            return {\n                from: this._to(function (it) {\n                    return it.classList.remove(what);\n                })\n            };\n        }\n    }, {\n        key: 'prepend',\n        value: function prepend(what) {\n            var _this = this;\n\n            return {\n                to: this._to(function (it) {\n                    return it.insertAdjacentHTML('afterbegin', _this._normalize(what));\n                }),\n                before: this._to(function (it) {\n                    return it.insertAdjacentHTML('beforebegin', _this._normalize(what));\n                })\n            };\n        }\n    }, {\n        key: 'append',\n        value: function append(what) {\n            var _this2 = this;\n\n            return {\n                to: this._to(function (it) {\n                    return it.insertAdjacentHTML('beforeend', _this2._normalize(what));\n                }),\n                after: this._to(function (it) {\n                    return it.insertAdjacentHTML('afterend', _this2._normalize(what));\n                })\n            };\n        }\n    }, {\n        key: 'clear',\n        value: function clear(what) {\n            return this._to(function (it) {\n                return it.innerHTML = '';\n            })(what);\n        }\n        /**\n         * PRIVATE METHODS\n         */\n\n    }, {\n        key: '_to',\n        value: function _to(how) {\n            var _this3 = this;\n\n            return function (what) {\n                var to = _this3._normalize(what, false);\n                [].concat(_toConsumableArray(to)).forEach(function (it) {\n                    return how(it);\n                });\n                return { then: _this3 };\n            };\n        }\n    }, {\n        key: '_normalize',\n        value: function _normalize(what) {\n            var toString = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n            if (what instanceof NodeList) return toString ? [].concat(_toConsumableArray(what)).map(function (it) {\n                return it.outerHTML;\n            }).join('\\n') : [].concat(_toConsumableArray(what));else if (what instanceof Node) return toString ? what.outerHTML : [what];else if (typeof what === 'string') return toString ? what : document.querySelectorAll(what);else throw new Error('DomBuddy was provided with an invalid value of ' + what);\n        }\n    }]);\n\n    return DomBuddy;\n}();\n\n/***/ }),\n/* 10 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return RSSUtility; });\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/** One week in seconds */\nvar TWO_WEEKS = 2 * 7 * 24 * 60 * 60 * 1000;\n/** Cookie name to reuse for `trackLastViewed` */\nvar COOKIE_NAME = 'last-viewed-pubdate';\n/**\n * Utility class for RSS feed parsing and actions.\n *\n * @export\n * @class RSSUtility\n */\nvar RSSUtility = function () {\n    function RSSUtility() {\n        _classCallCheck(this, RSSUtility);\n    }\n\n    _createClass(RSSUtility, [{\n        key: 'parseItems',\n\n        /**\n         * Shortcut for pulling `<item>` objects out of an RSS feed.\n         * Receives an optional transform function that is applied\n         * to the items after they are extracted. Returns an array of\n         * either `RSS.Item` objects or a type specified in transform.\n         *\n         * @template I\n         * @template T\n         * @param {RSSFeed} data\n         * @param {(item: I) => T} [transform]\n         * @returns {((T | I)[])}\n         * @memberof RSSUtility\n         */\n        value: function parseItems(data, transform) {\n            var channelItems = data && data.rss.channel[0].item && data.rss.channel[0].item.length ? data.rss.channel[0].item : [];\n            return transform ? channelItems.map(transform) : channelItems;\n        }\n        /**\n         * Optionally check the publish date of an incoming RSS data object\n         * against a cookie set to the publish date of the last viewed data.\n         * If the dates do not match, stores the new date in the cookie. Returns\n         * true if viewed already, false if not.\n         *\n         * @param {RSSFeed} data\n         * @memberof RSSUtility\n         */\n\n    }, {\n        key: 'checkViewStatus',\n        value: function checkViewStatus(type, data) {\n            var cookieName = COOKIE_NAME + '_' + encodeURIComponent(type);\n            var cookieDate = void 0;\n            try {\n                var pubDate = (data.rss.channel[0].pubDate || data.rss.channel[0].item[0].pubDate)[0];\n                cookieDate = new Date(pubDate).getTime().toString();\n            } catch (err) {\n                console.warn('Error parsing RSS pubDate: ' + err);\n                return;\n            }\n            var lastViewedPubDate = this._getCookie(cookieName);\n            if (cookieDate !== lastViewedPubDate) {\n                this._setCookie(cookieName, cookieDate);\n                return false;\n            } else {\n                return true;\n            }\n        }\n        /**\n         * Gets a document cookie value by name.\n         *\n         * @private\n         * @param {any} name\n         * @memberof RSSUtility\n         */\n\n    }, {\n        key: '_getCookie',\n        value: function _getCookie(name) {\n            var value = '; ' + document.cookie;\n            var parts = value.split('; ' + name + '=');\n            if (parts.length === 2) {\n                return parts.pop().split(';').shift();\n            }\n        }\n        /**\n         * Sets a document cookie by name to a given value and sets\n         * an expiry date of one week from now.\n         *\n         * @private\n         * @param {any} name\n         * @param {any} value\n         * @memberof RSSUtility\n         */\n\n    }, {\n        key: '_setCookie',\n        value: function _setCookie(name, value) {\n            var date = new Date();\n            date.setTime(date.getTime() + TWO_WEEKS);\n            document.cookie = name + '=' + value + '; expires=' + date.toUTCString() + '; path=/;';\n        }\n    }]);\n\n    return RSSUtility;\n}();\n\n/***/ }),\n/* 11 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return MessageBase; });\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar MessageBase = function () {\n    function MessageBase() {\n        _classCallCheck(this, MessageBase);\n    }\n\n    _createClass(MessageBase, [{\n        key: 'formatDate',\n        value: function formatDate(dateString) {\n            var date = new Date(dateString);\n            return [MessageBase.months[date.getMonth()], ' ', date.getDate(), ', ', date.getFullYear(), ' ', this.leadingZero(date.getHours()), ':', this.leadingZero(date.getMinutes())].join('');\n        }\n    }, {\n        key: 'leadingZero',\n        value: function leadingZero(number) {\n            return number < 10 ? '0' + number : number;\n        }\n    }, {\n        key: 'pluck',\n        value: function pluck(obj, props) {\n            // return Object.assign({}, ...props.map(prop => ({[prop]: obj[prop]})));\n            return props.reduce(function (result, key) {\n                result[key] = obj[key];return result;\n            }, {});\n        }\n    }]);\n\n    return MessageBase;\n}();\nMessageBase.months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n\n/***/ }),\n/* 12 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return TYPE_DISRUPTION; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ServiceDisruption; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0____ = __webpack_require__(0);\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\nvar TYPE_DISRUPTION = 'disruption';\nvar ServiceDisruption = function (_MessageBase) {\n    _inherits(ServiceDisruption, _MessageBase);\n\n    function ServiceDisruption(item) {\n        _classCallCheck(this, ServiceDisruption);\n\n        var _this = _possibleConstructorReturn(this, (ServiceDisruption.__proto__ || Object.getPrototypeOf(ServiceDisruption)).call(this));\n\n        var content = _this.extractContent(item);\n        Object.assign(_this, content);\n        return _this;\n    }\n\n    _createClass(ServiceDisruption, [{\n        key: 'extractContent',\n        value: function extractContent(_ref) {\n            var _ref$title = _slicedToArray(_ref.title, 1),\n                title = _ref$title[0],\n                _ref$description = _slicedToArray(_ref.description, 1),\n                description = _ref$description[0],\n                _ref$link = _slicedToArray(_ref.link, 1),\n                link = _ref$link[0],\n                _ref$guid = _slicedToArray(_ref.guid, 1),\n                guid = _ref$guid[0]._,\n                _ref$summary = _slicedToArray(_ref.summary, 1),\n                summary = _ref$summary[0],\n                _ref$article = _slicedToArray(_ref.article, 1),\n                article = _ref$article[0],\n                _ref$pubDate = _slicedToArray(_ref.pubDate, 1),\n                pubDate = _ref$pubDate[0],\n                rawCategory = _ref.category,\n                rawMedia = _ref['media:content'];\n\n            var category = void 0,\n                media = {};\n            if (rawMedia && rawMedia.length) {\n                var _rawMedia = _slicedToArray(rawMedia, 1),\n                    _rawMedia$0$$ = _rawMedia[0].$,\n                    mediaContent = _rawMedia$0$$.url,\n                    mediaDescription = _rawMedia$0$$.description;\n\n                media = { mediaContent: mediaContent, mediaDescription: mediaDescription };\n            }\n            if (rawCategory && rawCategory.length) {\n                var _rawCategory = _slicedToArray(rawCategory, 1),\n                    categoryText = _rawCategory[0]._;\n\n                category = categoryText;\n            }\n            return Object.assign({ title: title, description: description, link: link,\n                guid: guid, summary: summary }, { category: category }, { pubDate: this.formatDate(pubDate), article: article }, media);\n        }\n    }]);\n\n    return ServiceDisruption;\n}(__WEBPACK_IMPORTED_MODULE_0____[\"b\" /* MessageBase */]);\n\n/***/ }),\n/* 13 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return TYPE_EMERGENCY; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return EmergencyMessage; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0____ = __webpack_require__(0);\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\nvar TYPE_EMERGENCY = 'emergency';\nvar EmergencyMessage = function (_MessageBase) {\n    _inherits(EmergencyMessage, _MessageBase);\n\n    function EmergencyMessage(item) {\n        _classCallCheck(this, EmergencyMessage);\n\n        var _this = _possibleConstructorReturn(this, (EmergencyMessage.__proto__ || Object.getPrototypeOf(EmergencyMessage)).call(this));\n\n        var content = _this.extractContent(item);\n        Object.assign(_this, content);\n        return _this;\n    }\n\n    _createClass(EmergencyMessage, [{\n        key: 'extractContent',\n        value: function extractContent(_ref) {\n            var _ref$title = _slicedToArray(_ref.title, 1),\n                title = _ref$title[0],\n                _ref$description = _slicedToArray(_ref.description, 1),\n                description = _ref$description[0],\n                _ref$link = _slicedToArray(_ref.link, 1),\n                link = _ref$link[0],\n                _ref$guid = _slicedToArray(_ref.guid, 1),\n                guid = _ref$guid[0]._,\n                _ref$pubDate = _slicedToArray(_ref.pubDate, 1),\n                pubDate = _ref$pubDate[0];\n\n            return {\n                title: title, description: description, link: link,\n                guid: guid, pubDate: this.formatDate(pubDate)\n            };\n        }\n    }]);\n\n    return EmergencyMessage;\n}(__WEBPACK_IMPORTED_MODULE_0____[\"b\" /* MessageBase */]);\n\n/***/ }),\n/* 14 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export TYPE_WEATHER */\n// import { MessageBase, RawBase } from '.';\nvar TYPE_WEATHER = 'weather';\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// main-bundle.d2dd1f4318a1fdc5ee0e.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d2dd1f4318a1fdc5ee0e","// import { SocketPollClient } from 'mighty-polling-socket-server/dist';\nimport { SocketPollClient } from './lib/socket-client';\nimport './styles/main.scss';\n\nimport {\n  RSSUtility,\n  RSSFeed,\n  Notification\n} from './lib';\nimport { \n  ServiceDisruption,\n  ServiceDisruptionRSSItem,\n  EmergencyMessage,\n  TYPE_DISRUPTION,\n  TYPE_EMERGENCY,\n} from './models';\n\nconst REDIRECT_URL = 'http://uoit.ca/emergency';\n\nconst rss = new RSSUtility();\nconst toast = new Notification();\nconst client = new SocketPollClient();\n\n/**\n * Hold references to all feed containers (also provides a null checks).\n */\nconst emergencyMessageBarEl = document.getElementById('emergencyMessageBar');\nconst emergencyFeedMessageEl = document.getElementById('emergencyFeedMessage');\nconst serviceDisruptionMessageEl = document.getElementById('serviceDisruptionMessage');\n\n/**\n * A bind-ready function for running a 5-second countdown\n * inside the notification displayed before emergency message\n * redirects, to notify of impending redirection.\n */\nconst onNotify = function startCountdown() {\n  let secondsLeft = 5, countdownDone = false;\n  const elements: Element[] = [...this.childNodes];\n  const countdownEl = elements.find(el => el.classList && el.classList.contains('countdown'));\n  countdownEl.innerHTML = `${secondsLeft} seconds`;\n  const ticker = setInterval(() => {\n    secondsLeft--;\n    countdownDone = secondsLeft === 0;\n    countdownEl.innerHTML = countdownDone ? 'Now!' : `${secondsLeft} seconds`;\n    countdownDone && clearInterval(ticker);\n  }, 1000)\n};\n\n/**\n * Performs a redirect after notification has been dismissed.\n */\nconst onDismiss = () => document.location.assign(REDIRECT_URL);\n\n/**\n * Listens to incoming service disruption socket data. Responsible for\n * mapping `ServiceDisruptionRSSItem` objects to more useful `ServiceDisruption`\n * instances, and building a templated list from the items (if any).\n */\nclient.on<TYPE_DISRUPTION, RSSFeed>(TYPE_DISRUPTION, ({ data }) => {\n  /** Sets and compares a cookie of last viewed pubDate */\n  const viewedBefore = rss.checkViewStatus(TYPE_DISRUPTION, data);\n\n  if (serviceDisruptionMessageEl) {\n    const rssItems = rss.parseItems(data, (item: ServiceDisruptionRSSItem) => new ServiceDisruption(item));\n\n    if (rssItems.length) {\n      serviceDisruptionMessageEl.innerHTML = rssItems.map((item: ServiceDisruption)  => `<div class=\"emergencyNewsItem\">\n        <a href=\"${ item.link }\" title=\"${ item.title }\"><img src=\"${ item.mediaContent }\" alt=\"${ item.mediaDescription }\" width=\"100\" height=\"67\"></a>\n        <p><strong><a href=\"${ item.link }\">${ item.title }</strong></a></p>\n        <p class=\"date\">${ item.pubDate }</p>\n      </div>`).join('\\n');\n    }\n  } // else {\n    if (!viewedBefore) {\n      /** If not viewed, show notification and redirect to new page */\n      toast.notify(`<span class=\"icon_emergency warning text-larger\"></span>\n        <strong>Notice:</strong> A new service disruption has been posted! \n        <a href=\"#\"><strong>More info &raquo;</strong></a>`, {\n        duration: 8000,\n        className: 'warning',\n        position: {\n          right: true,\n          bottom: true\n        }\n      });\n    }\n  // }\n});\n\n/**\n * Listens to incoming emergency message socket data. Responsible for\n * mapping `RSSItem` objects to more useful `EmergencyMessage`\n * instances, and building a templated list from the items (if any).\n * \n * Checks and tracks view status of last received message; if last\n * has not been tracked as viewed, prompts user with a notification\n * and redirects to a new page. If already viewed, displays info bar.\n */\nclient.on<TYPE_EMERGENCY, RSSFeed>(TYPE_EMERGENCY, ({ data }) => {\n  /** Sets and compares a cookie of last viewed pubDate */\n  const viewedBefore = rss.checkViewStatus(TYPE_EMERGENCY, data);\n  const rssItems = rss.parseItems(data, item => new EmergencyMessage(item));\n\n  if (rssItems.length) {\n    if (emergencyFeedMessageEl) {\n      emergencyFeedMessageEl.innerHTML = rssItems.map(item => `<p class=\"emergencyTitle\">${item.title}</p>\n        <p class=\"emergencyDesc\">${item.description}</p>\n        <p class=\"emergencyDate\">${item.pubDate}</p>`).join('\\n');\n    }\n\n    if (emergencyMessageBarEl && viewedBefore) {\n      /** If viewed before, just display info bar */\n      emergencyMessageBarEl.innerHTML = rssItems.map(item => `<div class=\"row\">\n        <a href=\"${REDIRECT_URL}\">\n          <div class=\"emergencyAlert\">\n          Emergency Alert\n          </div>\n          <div class=\"emergencyMessage\">\n            <span class=\"emergencyTitle\">${item.title}</span>\n            <span class=\"emergencyDesc\">${item.description}</span>\n            <span class=\"emergencyDate\">${item.pubDate}</span>\n          </div>\n        </a>\n      </div>`).join('\\n');\n    }\n\n    if (!viewedBefore) { //!emergencyMessageBarEl && !emergencyFeedMessageEl && \n      /** If not viewed, show notification and redirect to new page */\n      toast.notify(`<span class=\"icon_emergency alert text-larger\"></span>\n        <strong>Notice:</strong> You are about to be redirected to an emergency message!\n        <br/><small>Redirecting in:</small> <strong class=\"countdown\"></strong>`, {\n        duration: 5000,\n        className: 'alert',\n        position: {\n          right: true,\n          bottom: true\n        },\n        onNotify,\n        onDismiss\n      });\n    }\n  } else {\n    if (emergencyFeedMessageEl) {\n      emergencyFeedMessageEl.innerHTML = `<p>\n        There are no emergencies at the University of Ontario Institute of Technology at this time.\n        <br>Please see information below for updates.\n      </p>`;\n    }\n    if (emergencyMessageBarEl) {\n      emergencyMessageBarEl.innerHTML = '';\n    }\n  }\n});\n\n\n// const TYPE_STATS = 'stats';\n// type TYPE_STATS = typeof TYPE_STATS;\n// type Stats = {\n//   pool: number;\n//   idle: boolean;\n//   intervals: any;\n//   log: any;\n// };\n// client.on<TYPE_STATS, Stats>('stats', ({ data }) => {\n//   console.info('[stats]', data)\n// });\n\n\n// WEBPACK FOOTER //\n// ./client/index.ts","/**\n * Base class for providing a simple proxy to an instantiated\n * `WebSocket` connection.\n * \n * @export\n * @class SocketConnection\n */\nexport class SocketConnection {\n  private connection: WebSocket;\n  constructor(url?: string, endpoint?: string) {\n    if (!url) {\n      const { location } = document;\n      const { host, protocol, port } = location;\n      url = `${protocol.replace(/http/, 'ws')}//${ host.replace(/:.*/, '') }${ port && `:${port}`}`;\n    }\n    url = `${url}/${endpoint || ''}`;\n    this.connection = new WebSocket(url);\n  }\n  onMessage(callback: (ev: MessageEvent) => any) {\n    this.connection.onmessage = callback;\n  }\n  close() {\n    this.connection.close();\n  }\n  send(what) {\n    this.connection.send(what);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/lib/socket-client/socket.ts","import { SocketConnection } from '.';\n\n/** Type for messages returned from socket server */\nexport type SocketPollMessage<T extends string, D> = {\n  type: T,\n  data: D\n};\n\n/**\n * This class represents the base hub for all socket poll related\n * messaging and action. Its primary purpose is to pre-initialize a\n * socket connection, as well as provide callback functions for all\n * configured message types.\n * \n * @example\n * // configure a message type\n * const TYPE_EMERGENCY = 'emergency';\n * // initialize a new feed\n * const feed = new SocketPollClient();\n * // assign an action to a message type\n * feed.on(TYPE_EMERGENCY, items => {...});\n * \n * @export\n * @class SocketPollClient\n */\nexport class SocketPollClient {\n\n  private _typeCallbacks: {\n    [type: string]: (items: any) => void\n  } = {};\n\n  /**\n   * @template T \n   * @param {string} type \n   * @param {(items: T) => void} callback \n   * @memberof SocketPollClient\n   */\n  on<T extends string, D>(type: T, callback: (eventData: SocketPollMessage<T, D>) => void) {\n    this._typeCallbacks[type] = callback;\n    this.addSocketListener(type);\n  }\n\n  /**\n   * Initializes event listener for socket messages with the\n   * pre-initialized socket connection; passes event data from\n   * message to this class' `onMessage` method.\n   * \n   * @private\n   * @template T \n   * @template D \n   * @param {T} type \n   * @memberof SocketPollClient\n   */\n  private addSocketListener<T extends string, D>(type: T) {\n    const socket = new SocketConnection(null, type)\n    socket.onMessage(event => this.onMessage<T, D>(type, event));\n    console.log(`[socket] added listener for \"${type}\"`);\n  }\n\n  /**\n   * Receives a socket's `MessageEvent`; parses the raw string data\n   * into a usable object; determines the type of emergency message\n   * and calls the appropriate callback with the parsed data as its\n   * first argument.\n   * \n   * @private\n   * @template T \n   * @template D \n   * @param {T} type \n   * @param {MessageEvent} event \n   * @memberof SocketPollClient\n   */\n  private onMessage<T extends string, D>(type: T, event: MessageEvent) {\n    const eventData: SocketPollMessage<T, D> = JSON.parse(event.data);\n    console.log(`[socket] ${eventData.type} message received`, eventData);\n    this._typeCallbacks[type](eventData);\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./client/lib/socket-client/socket-client.ts","import '../styles/notification.scss';\n\nexport type NotificationOptions = Partial<{\n  duration: number,\n  className: string,\n  countdown: boolean,\n  position: Partial<{\n    left: boolean,\n    right: boolean,\n    top: boolean,\n    bottom: boolean\n  }>,\n  disableAnimation: boolean,\n  onNotify(): void,\n  onDismiss(): void\n}>;\n\nexport class Notification {\n  private _options: NotificationOptions;\n  private _notification: Element;\n\n  constructor(private _defaults: NotificationOptions = {}) { }\n\n  notify(message: string, options: NotificationOptions = {}) {\n    this._options = {...this._defaults, ...options};\n    this._notification = this._getNotification(message);\n    this._transitionIn();\n    if (this._options.duration) {\n      setTimeout(() => {\n        this._transitionOut();\n      }, this._options.duration);\n    }\n    return this;\n  }\n\n  dismiss() {\n    this._transitionOut();\n  }\n\n  private _getNotification(message: string) {\n    const notificationClasses = this._getNotificationClasses();\n    const template = document.createElement('template');\n    template.innerHTML = `<div data-closable class=\"callout alert-callout ${notificationClasses}\">\n      ${message}\n      <button class=\"close-button\" aria-label=\"Dismiss alert\" type=\"button\" data-close>\n        <span aria-hidden=\"true\">⊗</span>\n      </button>\n    </div>`;\n    return template.content.firstChild as Element;\n  }\n\n  private _transitionIn() {\n    if (this._options.disableAnimation) {\n      document.body.appendChild(this._notification);\n      this._options.onNotify && this._options.onNotify.apply(this._notification);\n    } else {\n      this._notification.classList.remove('fadeOutUp');\n      this._notification.classList.add('fadeInDown');\n      document.body.appendChild(this._notification);\n      setTimeout(() => {\n        this._options.onNotify && this._options.onNotify.apply(this._notification);\n      }, 1000);\n    }\n  }\n\n  private _transitionOut() {\n    if (this._options.disableAnimation) {\n      document.body.removeChild(this._notification);\n      this._options.onDismiss && this._options.onDismiss.apply(this._notification);\n    } else {\n      this._notification.classList.remove('fadeInDown');\n      this._notification.classList.add('fadeOutUp');\n      setTimeout(() => {\n        document.body.removeChild(this._notification);\n        this._options.onDismiss && this._options.onDismiss.apply(this._notification);\n      }, 1000);\n    }\n  }\n\n  private _getNotificationClasses() {\n    const notificationClasses = ['notification'];\n    this._options.position && Object.keys(this._options.position).forEach(key => {\n      this._options.position[key] && notificationClasses.push(`notification-${key}`);\n    });\n    this._options.className && notificationClasses.push(this._options.className);\n    !this._options.disableAnimation && notificationClasses.push('animated');\n    return notificationClasses.join(' ');\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./client/lib/notification.ts","export class DomBuddy {\n  /**\n   * PUBLIC METHODS\n   */\n  addClass(what) {\n    return {\n      to: this._to((it: HTMLElement) => it.classList.add(what))\n    };\n  }\n  removeClass(what) {\n    return {\n      from: this._to((it: HTMLElement) => it.classList.remove(what))\n    };\n  }\n  prepend(what) {\n    return {\n      to: this._to((it: HTMLElement) => it.insertAdjacentHTML('afterbegin', this._normalize(what) as string)),\n      before: this._to((it: HTMLElement) => it.insertAdjacentHTML('beforebegin', this._normalize(what) as string))\n    };\n  }\n  append(what) {\n    return {\n      to: this._to((it: HTMLElement) => it.insertAdjacentHTML('beforeend', this._normalize(what) as string)),\n      after: this._to((it: HTMLElement) => it.insertAdjacentHTML('afterend', this._normalize(what) as string))\n    };\n  }\n  clear(what) {\n    return this._to((it: HTMLElement) => it.innerHTML = '')(what);\n  }\n\n  /**\n   * PRIVATE METHODS\n   */\n  _to(how: (it: Node) => void): (what: Node) => { then: DomBuddy } {\n    return what => {\n      const to = this._normalize(what, false);\n      [...to].forEach((it: Node) => how(it))\n      return { then: this };\n    };\n  }\n  _normalize(what, toString = true) {\n    if (what instanceof NodeList) return toString\n      ? [...what].map(it => (<HTMLElement>it).outerHTML).join('\\n')\n      : [...what]\n    else if (what instanceof Node) return toString\n      ? (<HTMLElement>what).outerHTML\n      : [what]\n    else if (typeof what === 'string') return toString\n      ? what\n      : document.querySelectorAll(what)\n    else throw new Error(`DomBuddy was provided with an invalid value of ${what}`);\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./client/lib/dom.ts","import { RSS } from 'mighty-polling-socket-server/dist';\n\n/** Container type for `xml2js` RSS feeds */\nexport type RSSFeed = { rss: RSS.Feed };\n\n/** One week in seconds */\nconst TWO_WEEKS = 2*7*24*60*60*1000;\n/** Cookie name to reuse for `trackLastViewed` */\nconst COOKIE_NAME = 'last-viewed-pubdate';\n\n/**\n * Utility class for RSS feed parsing and actions.\n * \n * @export\n * @class RSSUtility\n */\nexport class RSSUtility {\n  /**\n   * Shortcut for pulling `<item>` objects out of an RSS feed.\n   * Receives an optional transform function that is applied\n   * to the items after they are extracted. Returns an array of\n   * either `RSS.Item` objects or a type specified in transform.\n   * \n   * @template I \n   * @template T \n   * @param {RSSFeed} data \n   * @param {(item: I) => T} [transform] \n   * @returns {((T | I)[])} \n   * @memberof RSSUtility\n   */\n  parseItems<I extends RSS.Item, T>(data: RSSFeed, transform?: (item: I) => T): (T | I)[] {\n      const channelItems: (T | I)[] = data && data.rss.channel[0].item && data.rss.channel[0].item.length\n        ? <I[]>data.rss.channel[0].item\n        : [];\n      return transform ? channelItems.map(transform) : channelItems;\n  }\n\n  /**\n   * Optionally check the publish date of an incoming RSS data object\n   * against a cookie set to the publish date of the last viewed data.\n   * If the dates do not match, stores the new date in the cookie. Returns\n   * true if viewed already, false if not.\n   * \n   * @param {RSSFeed} data\n   * @memberof RSSUtility\n   */\n  checkViewStatus(type: string, data: RSSFeed) {\n    const cookieName = `${COOKIE_NAME}_${encodeURIComponent(type)}`;\n    let cookieDate;\n    try {\n      const pubDate = (data.rss.channel[0].pubDate || data.rss.channel[0].item[0].pubDate)[0];\n      cookieDate = new Date(pubDate).getTime().toString();\n    } catch (err) {\n      console.warn(`Error parsing RSS pubDate: ${err}`);\n      return;\n    }\n    const lastViewedPubDate = this._getCookie(cookieName);\n    if (cookieDate !== lastViewedPubDate) {\n      this._setCookie(cookieName, cookieDate);\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  /**\n   * Gets a document cookie value by name.\n   * \n   * @private\n   * @param {any} name\n   * @memberof RSSUtility\n   */\n  private _getCookie(name) {\n    const value = `; ${document.cookie}`;\n    const parts = value.split(`; ${name}=`);\n    if (parts.length === 2) {\n      return parts.pop().split(';').shift();\n    }\n  }\n\n  /**\n   * Sets a document cookie by name to a given value and sets\n   * an expiry date of one week from now.\n   * \n   * @private\n   * @param {any} name \n   * @param {any} value \n   * @memberof RSSUtility\n   */\n  private _setCookie(name, value) {\n    const date = new Date();\n    date.setTime(date.getTime() + TWO_WEEKS);\n    document.cookie = `${name}=${value}; expires=${date.toUTCString()}; path=/;`;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/lib/rss.ts","export class MessageBase {\n  private static months = [\n    'January', 'February', 'March',\n    'April', 'May', 'June', 'July',\n    'August', 'September', 'October',\n    'November', 'December'\n  ];\n  protected formatDate?(dateString) {\n    const date = new Date(dateString);\n    return [\n      MessageBase.months[date.getMonth()],\n      ' ', date.getDate(),\n      ', ', date.getFullYear(),\n      ' ', this.leadingZero(date.getHours()),\n      ':', this.leadingZero(date.getMinutes())\n    ].join('');\n  }\n  protected leadingZero?(number) {\n    return number < 10 ? `0${number}` : number;\n  }\n  protected pluck?(obj, props) {\n    // return Object.assign({}, ...props.map(prop => ({[prop]: obj[prop]})));\n    return props.reduce((result, key) => { result[key] = obj[key]; return result; }, {});\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./client/models/message-base.ts","import { XML, RSSExtras } from 'mighty-polling-socket-server';\n\nimport { MessageBase } from '.';\n\nexport const TYPE_DISRUPTION = 'disruption';\nexport type TYPE_DISRUPTION = typeof TYPE_DISRUPTION;\n\nexport type ServiceDisruptionRSSItemContent = {\n  summary: string;\n  article: string;\n}\nexport type ServiceDisruptionRSSItem = RSSExtras.ItemWithMedia & XML.WithContent<ServiceDisruptionRSSItemContent>\n\nexport class ServiceDisruption extends MessageBase {\n  title: string;\n  description: string;\n  link: string;\n  guid: string;\n  summary: string;\n  category: string;\n  pubDate: string;\n  article: string;\n  mediaContent?: string;\n  mediaDescription?: string;\n\n  constructor(item: ServiceDisruptionRSSItem) {\n    super();\n    const content = this.extractContent(item);\n    Object.assign(this, content);\n  }\n\n  private extractContent?({\n    title: [title], description: [description], link: [link],\n    guid: [{ _: guid }], summary: [summary],\n    article: [article], pubDate: [pubDate],\n    category: rawCategory, ['media:content']: rawMedia\n  }: ServiceDisruptionRSSItem): ServiceDisruption {\n    let category, media = {};\n\n    if (rawMedia && rawMedia.length) {\n      const [{\n        $: { url: mediaContent, description: mediaDescription }\n      }] = rawMedia;\n      media = { mediaContent, mediaDescription };\n    }\n\n    if (rawCategory && rawCategory.length) {\n      const [{ _: categoryText }] = rawCategory;\n      category = categoryText;\n    }\n\n    return {\n      title, description, link,\n      guid, summary, ...{ category },\n      pubDate: this.formatDate(pubDate),\n      article, ...media\n    };\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/models/service-disruption.ts","import { RSS } from 'mighty-polling-socket-server';\n\nimport { MessageBase } from '.';\n\nexport const TYPE_EMERGENCY = 'emergency';\nexport type TYPE_EMERGENCY = typeof TYPE_EMERGENCY;\n\nexport class EmergencyMessage extends MessageBase {\n  title: string;\n  description: string;\n  link: string;\n  guid: string;\n  pubDate: string;\n\n  constructor(item: RSS.Item) {\n    super();\n    const content = this.extractContent(item);\n    Object.assign(this, content);\n  }\n\n  private extractContent?({\n    title: [title], description: [description],\n    link: [link], guid: [{ _: guid }], pubDate: [pubDate]\n  }: RSS.Item): EmergencyMessage {\n    return {\n      title, description, link,\n      guid, pubDate: this.formatDate(pubDate),\n    };\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/models/emergency-message.ts"],"sourceRoot":""}