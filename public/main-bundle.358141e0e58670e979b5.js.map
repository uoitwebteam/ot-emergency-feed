{"version":3,"sources":["webpack:///main-bundle.358141e0e58670e979b5.js","webpack:///webpack/bootstrap 358141e0e58670e979b5","webpack:///./client/models/index.ts","webpack:///./node_modules/mighty-polling-socket-server/dist/index.js","webpack:///./client/index.ts","webpack:///./node_modules/mighty-polling-socket-server/dist/socket.js","webpack:///./node_modules/mighty-polling-socket-server/dist/socket-client.js","webpack:///./client/lib/index.ts","webpack:///./client/lib/rss.ts","webpack:///./client/lib/notification.ts","webpack:///./client/models/message-base.ts","webpack:///./client/models/service-disruption.ts","webpack:///./client/models/emergency-message.ts"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_0__message_base__","__WEBPACK_IMPORTED_MODULE_1__service_disruption__","__WEBPACK_IMPORTED_MODULE_2__emergency_message__","__export","value","_toConsumableArray","arr","Array","isArray","arr2","length","from","__WEBPACK_IMPORTED_MODULE_0_mighty_polling_socket_server_dist__","__WEBPACK_IMPORTED_MODULE_1__styles_main_scss__","__WEBPACK_IMPORTED_MODULE_2__lib__","__WEBPACK_IMPORTED_MODULE_3__models__","rss","toast","client","emergencyMessageBarEl","document","getElementById","emergencyFeedMessageEl","serviceDisruptionMessageEl","onNotify","secondsLeft","countdownDone","elements","concat","this","childNodes","countdownEl","find","el","classList","contains","innerHTML","ticker","setInterval","clearInterval","onDismiss","location","assign","on","_ref","data","viewedBefore","checkViewStatus","rssItems","parseItems","item","map","link","title","mediaContent","mediaDescription","pubDate","join","notify","duration","className","position","right","bottom","_ref2","description","SocketConnection","url","endpoint","location_1","host","protocol","port","replace","connection","WebSocket","onMessage","callback","onmessage","close","send","what","_1","SocketPollClient","baseUrl","_typeCallbacks","type","addSocketListener","_this","event","console","log","eventData","JSON","parse","__WEBPACK_IMPORTED_MODULE_0__rss__","__WEBPACK_IMPORTED_MODULE_1__notification__","_classCallCheck","instance","Constructor","TypeError","RSSUtility","_createClass","defineProperties","target","props","descriptor","writable","key","protoProps","staticProps","transform","channelItems","channel","cookieName","_getCookieName","cookieDate","Date","getTime","toString","err","warn","lastViewedPubDate","_getCookie","viewedStatus","_setCookie","COOKIE_NAME","encodeURIComponent","cookie","parts","split","pop","shift","date","setTime","toUTCString","Notification","__WEBPACK_IMPORTED_MODULE_0__styles_notification_scss__","_defaults","arguments","undefined","message","options","_options","_notification","_getNotification","_transitionIn","setTimeout","_transitionOut","notificationClasses","_getNotificationClasses","template","createElement","content","firstChild","_this2","disableAnimation","body","appendChild","apply","remove","add","_this3","removeChild","_this4","keys","forEach","push","MessageBase","dateString","months","getMonth","getDate","getFullYear","leadingZero","getHours","getMinutes","number","obj","reduce","result","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","TYPE_DISRUPTION","ServiceDisruption","__WEBPACK_IMPORTED_MODULE_0____","_slicedToArray","sliceIterator","_arr","_n","_d","_e","_s","_i","Symbol","iterator","next","done","_MessageBase","getPrototypeOf","extractContent","_ref$title","_ref$description","_ref$link","_ref$guid","guid","_","_ref$summary","summary","_ref$article","article","_ref$pubDate","rawCategory","category","rawMedia","media","_rawMedia","_rawMedia$0$$","$","formatDate","TYPE_EMERGENCY","EmergencyMessage"],"mappings":"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","file":"main-bundle.358141e0e58670e979b5.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 2);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__message_base__ = __webpack_require__(10);\n/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return __WEBPACK_IMPORTED_MODULE_0__message_base__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_disruption__ = __webpack_require__(11);\n/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return __WEBPACK_IMPORTED_MODULE_1__service_disruption__[\"a\"]; });\n/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return __WEBPACK_IMPORTED_MODULE_1__service_disruption__[\"b\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__emergency_message__ = __webpack_require__(12);\n/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return __WEBPACK_IMPORTED_MODULE_2__emergency_message__[\"a\"]; });\n/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return __WEBPACK_IMPORTED_MODULE_2__emergency_message__[\"b\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__weather_alert__ = __webpack_require__(13);\n/* unused harmony namespace reexport */\n\n\n\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(__webpack_require__(3));\n__export(__webpack_require__(4));\n//# sourceMappingURL=index.js.map\n\n/***/ }),\n/* 2 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_mighty_polling_socket_server_dist__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_mighty_polling_socket_server_dist___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_mighty_polling_socket_server_dist__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__styles_main_scss__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__styles_main_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__styles_main_scss__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lib__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__models__ = __webpack_require__(0);\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n\n\n\n\nvar REDIRECT_URL = 'http://uoit.ca/emergency';\nvar rss = new __WEBPACK_IMPORTED_MODULE_2__lib__[\"b\" /* RSSUtility */]();\nvar toast = new __WEBPACK_IMPORTED_MODULE_2__lib__[\"a\" /* Notification */]();\nvar client = new __WEBPACK_IMPORTED_MODULE_0_mighty_polling_socket_server_dist__[\"SocketPollClient\"]();\n/**\n * Hold references to all feed containers (also provides a null checks).\n */\nvar emergencyMessageBarEl = document.getElementById('emergency-message');\nvar emergencyFeedMessageEl = document.getElementById('emergency-message-list');\nvar serviceDisruptionMessageEl = document.getElementById('service-disruption-list');\n/**\n * A bind-ready function for running a 5-second countdown\n * inside the notification displayed before emergency message\n * redirects, to notify of impending redirection.\n */\nvar onNotify = function startCountdown() {\n    var secondsLeft = 5,\n        countdownDone = false;\n    var elements = [].concat(_toConsumableArray(this.childNodes));\n    var countdownEl = elements.find(function (el) {\n        return el.classList && el.classList.contains('countdown');\n    });\n    countdownEl.innerHTML = secondsLeft + ' seconds';\n    var ticker = setInterval(function () {\n        secondsLeft--;\n        countdownDone = secondsLeft === 0;\n        countdownEl.innerHTML = countdownDone ? 'Now!' : secondsLeft + ' seconds';\n        countdownDone && clearInterval(ticker);\n    }, 1000);\n};\n/**\n * Performs a redirect after notification has been dismissed.\n */\nvar onDismiss = function onDismiss() {\n    return document.location.assign(REDIRECT_URL);\n};\n/**\n * Listens to incoming service disruption socket data. Responsible for\n * mapping `ServiceDisruptionRSSItem` objects to more useful `ServiceDisruption`\n * instances, and building a templated list from the items (if any).\n */\nclient.on(__WEBPACK_IMPORTED_MODULE_3__models__[\"d\" /* TYPE_DISRUPTION */], function (_ref) {\n    var data = _ref.data;\n\n    /** Sets and compares a cookie of last viewed pubDate */\n    var viewedBefore = rss.checkViewStatus(__WEBPACK_IMPORTED_MODULE_3__models__[\"d\" /* TYPE_DISRUPTION */], data);\n    if (serviceDisruptionMessageEl) {\n        var rssItems = rss.parseItems(data, function (item) {\n            return new __WEBPACK_IMPORTED_MODULE_3__models__[\"c\" /* ServiceDisruption */](item);\n        });\n        if (rssItems.length) {\n            serviceDisruptionMessageEl.innerHTML = rssItems.map(function (item) {\n                return '<div class=\"emergencyNewsItem\">\\n        <a href=\"' + item.link + '\" title=\"' + item.title + '\"><img src=\"' + item.mediaContent + '\" alt=\"' + item.mediaDescription + '\" width=\"100\" height=\"67\"></a>\\n        <p><strong><a href=\"' + item.link + '\">' + item.title + '</strong></a></p>\\n        <p class=\"date\">' + item.pubDate + '</p>\\n      </div>';\n            }).join('\\n');\n        }\n    } // else {\n    if (!viewedBefore) {\n        /** If not viewed, show notification and redirect to new page */\n        toast.notify('<span class=\"icon_emergency warning text-larger\"></span>\\n        <strong>Notice:</strong> A new service disruption has been posted! \\n        <a href=\"#\"><strong>More info &raquo;</strong></a>', {\n            duration: 8000,\n            className: 'warning',\n            position: {\n                right: true,\n                bottom: true\n            }\n        });\n    }\n    // }\n});\n/**\n * Listens to incoming emergency message socket data. Responsible for\n * mapping `RSSItem` objects to more useful `EmergencyMessage`\n * instances, and building a templated list from the items (if any).\n *\n * Checks and tracks view status of last received message; if last\n * has not been tracked as viewed, prompts user with a notification\n * and redirects to a new page. If already viewed, displays info bar.\n */\nclient.on(__WEBPACK_IMPORTED_MODULE_3__models__[\"e\" /* TYPE_EMERGENCY */], function (_ref2) {\n    var data = _ref2.data;\n\n    /** Sets and compares a cookie of last viewed pubDate */\n    var viewedBefore = rss.checkViewStatus(__WEBPACK_IMPORTED_MODULE_3__models__[\"e\" /* TYPE_EMERGENCY */], data);\n    var rssItems = rss.parseItems(data, function (item) {\n        return new __WEBPACK_IMPORTED_MODULE_3__models__[\"a\" /* EmergencyMessage */](item);\n    });\n    if (rssItems.length) {\n        if (emergencyFeedMessageEl) {\n            emergencyFeedMessageEl.innerHTML = rssItems.map(function (item) {\n                return '<p class=\"emergencyTitle\">' + item.title + '</p>\\n        <p class=\"emergencyDesc\">' + item.description + '</p>\\n        <p class=\"emergencyDate\">' + item.pubDate + '</p>';\n            }).join('\\n');\n        }\n        if (emergencyMessageBarEl && viewedBefore) {\n            /** If viewed before, just display info bar */\n            emergencyMessageBarEl.innerHTML = rssItems.map(function (item) {\n                return '<div class=\"row\">\\n        <a href=\"' + REDIRECT_URL + '\">\\n          <div class=\"emergencyAlert\">\\n          Emergency Alert\\n          </div>\\n          <div class=\"emergencyMessage\">\\n            <span class=\"emergencyTitle\">' + item.title + '</span>\\n            <span class=\"emergencyDesc\">' + item.description + '</span>\\n            <span class=\"emergencyDate\">' + item.pubDate + '</span>\\n          </div>\\n        </a>\\n      </div>';\n            }).join('\\n');\n        }\n        if (!viewedBefore) {\n            //!emergencyMessageBarEl && !emergencyFeedMessageEl &&\n            /** If not viewed, show notification and redirect to new page */\n            toast.notify('<span class=\"icon_emergency alert text-larger\"></span>\\n        <strong>Notice:</strong> You are about to be redirected to an emergency message!\\n        <br/><small>Redirecting in:</small> <strong class=\"countdown\"></strong>', {\n                duration: 5000,\n                className: 'alert',\n                position: {\n                    right: true,\n                    bottom: true\n                },\n                onNotify: onNotify,\n                onDismiss: onDismiss\n            });\n        }\n    } else {\n        if (emergencyFeedMessageEl) {\n            emergencyFeedMessageEl.innerHTML = '<p>\\n        There are no emergencies at Ontario Tech University at this time.\\n        <br>Please see information below for updates.\\n      </p>';\n        }\n        if (emergencyMessageBarEl) {\n            emergencyMessageBarEl.innerHTML = '';\n        }\n    }\n});\n// const TYPE_STATS = 'stats';\n// type TYPE_STATS = typeof TYPE_STATS;\n// type Stats = {\n//   pool: number;\n//   idle: boolean;\n//   intervals: any;\n//   log: any;\n// };\n// client.on<TYPE_STATS, Stats>('stats', ({ data }) => {\n//   console.info('[stats]', data)\n// });\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Base class for providing a simple proxy to an instantiated\n * `WebSocket` connection.\n *\n * @export\n * @class SocketConnection\n */\nvar SocketConnection = /** @class */ (function () {\n    function SocketConnection(url, endpoint) {\n        if (!url) {\n            var location_1 = document.location;\n            var host = location_1.host, protocol = location_1.protocol, port = location_1.port;\n            url = protocol.replace(/http/, 'ws') + \"//\" + host.replace(/:.*/, '') + (port ? \":\" + port : '');\n        }\n        url = url + \"/\" + (endpoint || '');\n        this.connection = new WebSocket(url);\n    }\n    SocketConnection.prototype.onMessage = function (callback) {\n        this.connection.onmessage = callback;\n    };\n    SocketConnection.prototype.close = function () {\n        this.connection.close();\n    };\n    SocketConnection.prototype.send = function (what) {\n        this.connection.send(what);\n    };\n    return SocketConnection;\n}());\nexports.SocketConnection = SocketConnection;\n//# sourceMappingURL=socket.js.map\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _1 = __webpack_require__(1);\n/**\n * This class represents the base hub for all socket poll related\n * messaging and action. Its primary purpose is to pre-initialize a\n * socket connection, as well as provide callback functions for all\n * configured message types.\n *\n * @example\n * // configure a message type\n * const TYPE_EMERGENCY = 'emergency';\n * // initialize a new feed\n * const feed = new SocketPollClient();\n * // assign an action to a message type\n * feed.on(TYPE_EMERGENCY, items => {...});\n *\n * @export\n * @class SocketPollClient\n */\nvar SocketPollClient = /** @class */ (function () {\n    function SocketPollClient(baseUrl) {\n        this.baseUrl = baseUrl;\n        this._typeCallbacks = {};\n    }\n    /**\n     * @template T\n     * @param {string} type\n     * @param {(items: T) => void} callback\n     * @memberof SocketPollClient\n     */\n    SocketPollClient.prototype.on = function (type, callback) {\n        this._typeCallbacks[type] = callback;\n        this.addSocketListener(type);\n    };\n    /**\n     * Initializes event listener for socket messages with the\n     * pre-initialized socket connection; passes event data from\n     * message to this class' `onMessage` method.\n     *\n     * @private\n     * @template T\n     * @template D\n     * @param {T} type\n     * @memberof SocketPollClient\n     */\n    SocketPollClient.prototype.addSocketListener = function (type) {\n        var _this = this;\n        var socket = new _1.SocketConnection(this.baseUrl, type);\n        socket.onMessage(function (event) { return _this.onMessage(type, event); });\n        console.log(\"[socket] added listener for \\\"\" + type + \"\\\"\");\n    };\n    /**\n     * Receives a socket's `MessageEvent`; parses the raw string data\n     * into a usable object; determines the type of emergency message\n     * and calls the appropriate callback with the parsed data as its\n     * first argument.\n     *\n     * @private\n     * @template T\n     * @template D\n     * @param {T} type\n     * @param {MessageEvent} event\n     * @memberof SocketPollClient\n     */\n    SocketPollClient.prototype.onMessage = function (type, event) {\n        var eventData = JSON.parse(event.data);\n        console.log(\"[socket] \" + eventData.type + \" message received\", eventData);\n        this._typeCallbacks[type](eventData);\n    };\n    return SocketPollClient;\n}());\nexports.SocketPollClient = SocketPollClient;\n//# sourceMappingURL=socket-client.js.map\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 6 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__rss__ = __webpack_require__(7);\n/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return __WEBPACK_IMPORTED_MODULE_0__rss__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__notification__ = __webpack_require__(8);\n/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return __WEBPACK_IMPORTED_MODULE_1__notification__[\"a\"]; });\n\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return RSSUtility; });\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/** One week in seconds */\nvar TWO_WEEKS = 2 * 7 * 24 * 60 * 60 * 1000;\n/** Cookie name to reuse for `trackLastViewed` */\nvar COOKIE_NAME = 'last-viewed-pubdate';\n/**\n * Utility class for RSS feed parsing and actions.\n *\n * @export\n * @class RSSUtility\n */\nvar RSSUtility = function () {\n    function RSSUtility() {\n        _classCallCheck(this, RSSUtility);\n    }\n\n    _createClass(RSSUtility, [{\n        key: 'parseItems',\n\n        /**\n         * Shortcut for pulling `<item>` objects out of an RSS feed.\n         * Receives an optional transform function that is applied\n         * to the items after they are extracted. Returns an array of\n         * either `RSS.Item` objects or a type specified in transform.\n         *\n         * @template I\n         * @template T\n         * @param {RSSFeed} data\n         * @param {(item: I) => T} [transform]\n         * @returns {((T | I)[])}\n         * @memberof RSSUtility\n         */\n        value: function parseItems(data, transform) {\n            var channelItems = data && data.rss.channel[0].item && data.rss.channel[0].item.length ? data.rss.channel[0].item : [];\n            return transform ? channelItems.map(transform) : channelItems;\n        }\n        /**\n         * Optionally check the publish date of an incoming RSS data object\n         * against a cookie set to the publish date of the last viewed data.\n         * If the dates do not match, stores the new date in the cookie. Returns\n         * true if viewed already, false if not.\n         *\n         * @param {RSSFeed} data\n         * @memberof RSSUtility\n         */\n\n    }, {\n        key: 'checkViewStatus',\n        value: function checkViewStatus(type, data, callback) {\n            var cookieName = this._getCookieName(type);\n            var cookieDate = void 0;\n            try {\n                var pubDate = void 0;\n                if (data.rss.channel && data.rss.channel[0].item) {\n                    pubDate = (data.rss.channel[0].pubDate || data.rss.channel[0].item[0].pubDate)[0];\n                }\n                cookieDate = new Date(pubDate).getTime().toString();\n            } catch (err) {\n                console.warn('Error parsing RSS pubDate: ' + err);\n                return;\n            }\n            var lastViewedPubDate = this._getCookie(cookieName);\n            var viewedStatus = cookieDate === lastViewedPubDate;\n            if (callback) {\n                callback(viewedStatus);\n            }\n            return viewedStatus || this._setCookie(cookieName, cookieDate) || false;\n        }\n        /**\n         * Gets a formatted cookie name.\n         *\n         * @private\n         * @param {string} type\n         * @memberof RSSUtility\n         */\n\n    }, {\n        key: '_getCookieName',\n        value: function _getCookieName(type) {\n            return COOKIE_NAME + '_' + encodeURIComponent(type);\n        }\n        /**\n         * Gets a document cookie value by name.\n         *\n         * @private\n         * @param {any} name\n         * @memberof RSSUtility\n         */\n\n    }, {\n        key: '_getCookie',\n        value: function _getCookie(name) {\n            var value = '; ' + document.cookie;\n            var parts = value.split('; ' + name + '=');\n            if (parts.length === 2) {\n                return parts.pop().split(';').shift();\n            }\n        }\n        /**\n         * Sets a document cookie by name to a given value and sets\n         * an expiry date of one week from now.\n         *\n         * @private\n         * @param {any} name\n         * @param {any} value\n         * @memberof RSSUtility\n         */\n\n    }, {\n        key: '_setCookie',\n        value: function _setCookie(name, value) {\n            var date = new Date();\n            date.setTime(date.getTime() + TWO_WEEKS);\n            document.cookie = name + '=' + value + '; expires=' + date.toUTCString() + '; path=/;';\n        }\n    }]);\n\n    return RSSUtility;\n}();\n\n/***/ }),\n/* 8 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Notification; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__styles_notification_scss__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__styles_notification_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__styles_notification_scss__);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\nvar Notification = function () {\n    function Notification() {\n        var _defaults = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n        _classCallCheck(this, Notification);\n\n        this._defaults = _defaults;\n    }\n\n    _createClass(Notification, [{\n        key: 'notify',\n        value: function notify(message) {\n            var _this = this;\n\n            var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n            this._options = Object.assign({}, this._defaults, options);\n            this._notification = this._getNotification(message);\n            this._transitionIn();\n            if (this._options.duration) {\n                setTimeout(function () {\n                    _this._transitionOut();\n                }, this._options.duration);\n            }\n            return this;\n        }\n    }, {\n        key: 'dismiss',\n        value: function dismiss() {\n            this._transitionOut();\n        }\n    }, {\n        key: '_getNotification',\n        value: function _getNotification(message) {\n            var notificationClasses = this._getNotificationClasses();\n            var template = document.createElement('template');\n            template.innerHTML = '<div data-closable class=\"callout alert-callout ' + notificationClasses + '\">\\n      ' + message + '\\n      <button class=\"close-button\" aria-label=\"Dismiss alert\" type=\"button\" data-close>\\n        <span aria-hidden=\"true\">\\u2297</span>\\n      </button>\\n    </div>';\n            return template.content.firstChild;\n        }\n    }, {\n        key: '_transitionIn',\n        value: function _transitionIn() {\n            var _this2 = this;\n\n            if (this._options.disableAnimation) {\n                document.body.appendChild(this._notification);\n                this._options.onNotify && this._options.onNotify.apply(this._notification);\n            } else {\n                this._notification.classList.remove('fadeOutUp');\n                this._notification.classList.add('fadeInDown');\n                document.body.appendChild(this._notification);\n                setTimeout(function () {\n                    _this2._options.onNotify && _this2._options.onNotify.apply(_this2._notification);\n                }, 1000);\n            }\n        }\n    }, {\n        key: '_transitionOut',\n        value: function _transitionOut() {\n            var _this3 = this;\n\n            if (this._options.disableAnimation) {\n                document.body.removeChild(this._notification);\n                this._options.onDismiss && this._options.onDismiss.apply(this._notification);\n            } else {\n                this._notification.classList.remove('fadeInDown');\n                this._notification.classList.add('fadeOutUp');\n                setTimeout(function () {\n                    document.body.removeChild(_this3._notification);\n                    _this3._options.onDismiss && _this3._options.onDismiss.apply(_this3._notification);\n                }, 1000);\n            }\n        }\n    }, {\n        key: '_getNotificationClasses',\n        value: function _getNotificationClasses() {\n            var _this4 = this;\n\n            var notificationClasses = ['notification'];\n            this._options.position && Object.keys(this._options.position).forEach(function (key) {\n                _this4._options.position[key] && notificationClasses.push('notification-' + key);\n            });\n            this._options.className && notificationClasses.push(this._options.className);\n            !this._options.disableAnimation && notificationClasses.push('animated');\n            return notificationClasses.join(' ');\n        }\n    }]);\n\n    return Notification;\n}();\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 10 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return MessageBase; });\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Provides an abstract base class for incoming socket messages\n * to inherit from. This class is not meant to be used on its own,\n * but rather extended by further message types.\n *\n * This is primarily just used to share editorially-correct date\n * formatting methods, but would be a good place to put other\n * institution-specific utilities.\n *\n * @export\n * @class MessageBase\n */\nvar MessageBase = function () {\n    function MessageBase() {\n        _classCallCheck(this, MessageBase);\n    }\n\n    _createClass(MessageBase, [{\n        key: 'formatDate',\n\n        /**\n         * Changes a valid date string (i.e. one that that can be used\n         * in a `new Date()` instance) into UOIT-friendly formatting. See\n         * the [brand.uoit.ca](1) page on date formatting.\n         *\n         * [1]: https://brand.uoit.ca/documentation-and-guides/editorial-style-guide/style-guidelines/dates.php\n         *\n         * @protected\n         * @param {string} dateString\n         * @returns {string}\n         */\n        value: function formatDate(dateString) {\n            var date = new Date(dateString);\n            return [MessageBase.months[date.getMonth()], ' ', date.getDate(), ', ', date.getFullYear(), ' ', this.leadingZero(date.getHours()), ':', this.leadingZero(date.getMinutes())].join('');\n        }\n        /**\n         * Prepends a zero to the beginning of a number if it would equal\n         * less than two digits, i.e. 1-9 become 01-09.\n         *\n         * @protected\n         * @param {number} number\n         * @returns {string}\n         */\n\n    }, {\n        key: 'leadingZero',\n        value: function leadingZero(number) {\n            return number < 10 ? '0' + number : number.toString();\n        }\n        /**\n         * Grabs individual properties from an object by name and gives\n         * back an object with only those properties.\n         *\n         * @protected\n         * @template T Original object\n         * @template K Key of original object\n         * @param {T} obj Object from which to pluck\n         * @param {K[]} props Array of property names to pluck\n         * @returns {Partial<T>}\n         */\n\n    }, {\n        key: 'pluck',\n        value: function pluck(obj, props) {\n            return props.reduce(function (result, key) {\n                result[key] = obj[key];\n                return result;\n            }, {});\n        }\n    }]);\n\n    return MessageBase;\n}();\n/**\n * Static list of month names in 0-11 indexed order.\n *\n * @private\n * @static\n */\nMessageBase.months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n\n/***/ }),\n/* 11 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return TYPE_DISRUPTION; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ServiceDisruption; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0____ = __webpack_require__(0);\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\nvar TYPE_DISRUPTION = 'disruption';\nvar ServiceDisruption = function (_MessageBase) {\n    _inherits(ServiceDisruption, _MessageBase);\n\n    function ServiceDisruption(item) {\n        _classCallCheck(this, ServiceDisruption);\n\n        var _this = _possibleConstructorReturn(this, (ServiceDisruption.__proto__ || Object.getPrototypeOf(ServiceDisruption)).call(this));\n\n        var content = _this.extractContent(item);\n        Object.assign(_this, content);\n        return _this;\n    }\n\n    _createClass(ServiceDisruption, [{\n        key: 'extractContent',\n        value: function extractContent(_ref) {\n            var _ref$title = _slicedToArray(_ref.title, 1),\n                title = _ref$title[0],\n                _ref$description = _slicedToArray(_ref.description, 1),\n                description = _ref$description[0],\n                _ref$link = _slicedToArray(_ref.link, 1),\n                link = _ref$link[0],\n                _ref$guid = _slicedToArray(_ref.guid, 1),\n                guid = _ref$guid[0]._,\n                _ref$summary = _slicedToArray(_ref.summary, 1),\n                summary = _ref$summary[0],\n                _ref$article = _slicedToArray(_ref.article, 1),\n                article = _ref$article[0],\n                _ref$pubDate = _slicedToArray(_ref.pubDate, 1),\n                pubDate = _ref$pubDate[0],\n                rawCategory = _ref.category,\n                rawMedia = _ref['media:content'];\n\n            var category = void 0,\n                media = {};\n            if (rawMedia && rawMedia.length) {\n                var _rawMedia = _slicedToArray(rawMedia, 1),\n                    _rawMedia$0$$ = _rawMedia[0].$,\n                    mediaContent = _rawMedia$0$$.url,\n                    mediaDescription = _rawMedia$0$$.description;\n\n                media = { mediaContent: mediaContent, mediaDescription: mediaDescription };\n            }\n            if (rawCategory && rawCategory.length) {\n                var _rawCategory = _slicedToArray(rawCategory, 1),\n                    categoryText = _rawCategory[0]._;\n\n                category = categoryText;\n            }\n            return Object.assign({ title: title, description: description, link: link,\n                guid: guid, summary: summary }, { category: category }, { pubDate: this.formatDate(pubDate), article: article }, media);\n        }\n    }]);\n\n    return ServiceDisruption;\n}(__WEBPACK_IMPORTED_MODULE_0____[\"b\" /* MessageBase */]);\n\n/***/ }),\n/* 12 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return TYPE_EMERGENCY; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return EmergencyMessage; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0____ = __webpack_require__(0);\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\nvar TYPE_EMERGENCY = 'emergency';\nvar EmergencyMessage = function (_MessageBase) {\n    _inherits(EmergencyMessage, _MessageBase);\n\n    function EmergencyMessage(item) {\n        _classCallCheck(this, EmergencyMessage);\n\n        var _this = _possibleConstructorReturn(this, (EmergencyMessage.__proto__ || Object.getPrototypeOf(EmergencyMessage)).call(this));\n\n        var content = _this.extractContent(item);\n        Object.assign(_this, content);\n        return _this;\n    }\n\n    _createClass(EmergencyMessage, [{\n        key: 'extractContent',\n        value: function extractContent(_ref) {\n            var _ref$title = _slicedToArray(_ref.title, 1),\n                title = _ref$title[0],\n                _ref$description = _slicedToArray(_ref.description, 1),\n                description = _ref$description[0],\n                _ref$link = _slicedToArray(_ref.link, 1),\n                link = _ref$link[0],\n                _ref$guid = _slicedToArray(_ref.guid, 1),\n                guid = _ref$guid[0]._,\n                _ref$pubDate = _slicedToArray(_ref.pubDate, 1),\n                pubDate = _ref$pubDate[0];\n\n            return {\n                title: title, description: description, link: link,\n                guid: guid, pubDate: this.formatDate(pubDate)\n            };\n        }\n    }]);\n\n    return EmergencyMessage;\n}(__WEBPACK_IMPORTED_MODULE_0____[\"b\" /* MessageBase */]);\n\n/***/ }),\n/* 13 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export TYPE_WEATHER */\n// import { MessageBase, RawBase } from '.';\nvar TYPE_WEATHER = 'weather';\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// main-bundle.358141e0e58670e979b5.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 358141e0e58670e979b5","export * from './message-base';\n\nexport * from './service-disruption';\nexport * from './emergency-message';\nexport * from './weather-alert';\n\n\n\n// WEBPACK FOOTER //\n// ./client/models/index.ts","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./socket\"));\n__export(require(\"./socket-client\"));\n//# sourceMappingURL=index.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/mighty-polling-socket-server/dist/index.js\n// module id = 1\n// module chunks = 0","import { SocketPollClient } from 'mighty-polling-socket-server/dist';\nimport './styles/main.scss';\n\nimport { RSSUtility, RSSFeed, Notification } from './lib';\nimport {\n  ServiceDisruption,\n  ServiceDisruptionRSSItem,\n  EmergencyMessage,\n  TYPE_DISRUPTION,\n  TYPE_EMERGENCY\n} from './models';\n\nconst REDIRECT_URL = 'http://uoit.ca/emergency';\n\nconst rss = new RSSUtility();\nconst toast = new Notification();\nconst client = new SocketPollClient();\n\n/**\n * Hold references to all feed containers (also provides a null checks).\n */\nconst emergencyMessageBarEl = document.getElementById('emergency-message');\nconst emergencyFeedMessageEl = document.getElementById('emergency-message-list');\nconst serviceDisruptionMessageEl = document.getElementById('service-disruption-list');\n\n/**\n * A bind-ready function for running a 5-second countdown\n * inside the notification displayed before emergency message\n * redirects, to notify of impending redirection.\n */\nconst onNotify = function startCountdown() {\n  let secondsLeft = 5,\n    countdownDone = false;\n  const elements: Element[] = [...this.childNodes];\n  const countdownEl = elements.find(el => el.classList && el.classList.contains('countdown'));\n  countdownEl.innerHTML = `${secondsLeft} seconds`;\n  const ticker = setInterval(() => {\n    secondsLeft--;\n    countdownDone = secondsLeft === 0;\n    countdownEl.innerHTML = countdownDone ? 'Now!' : `${secondsLeft} seconds`;\n    countdownDone && clearInterval(ticker);\n  }, 1000);\n};\n\n/**\n * Performs a redirect after notification has been dismissed.\n */\nconst onDismiss = () => document.location.assign(REDIRECT_URL);\n\n/**\n * Listens to incoming service disruption socket data. Responsible for\n * mapping `ServiceDisruptionRSSItem` objects to more useful `ServiceDisruption`\n * instances, and building a templated list from the items (if any).\n */\nclient.on<TYPE_DISRUPTION, RSSFeed>(TYPE_DISRUPTION, ({ data }) => {\n  /** Sets and compares a cookie of last viewed pubDate */\n  const viewedBefore = rss.checkViewStatus(TYPE_DISRUPTION, data);\n\n  if (serviceDisruptionMessageEl) {\n    const rssItems = rss.parseItems(\n      data,\n      (item: ServiceDisruptionRSSItem) => new ServiceDisruption(item)\n    );\n\n    if (rssItems.length) {\n      serviceDisruptionMessageEl.innerHTML = rssItems\n        .map(\n          (item: ServiceDisruption) => `<div class=\"emergencyNewsItem\">\n        <a href=\"${item.link}\" title=\"${item.title}\"><img src=\"${item.mediaContent}\" alt=\"${\n            item.mediaDescription\n          }\" width=\"100\" height=\"67\"></a>\n        <p><strong><a href=\"${item.link}\">${item.title}</strong></a></p>\n        <p class=\"date\">${item.pubDate}</p>\n      </div>`\n        )\n        .join('\\n');\n    }\n  } // else {\n  if (!viewedBefore) {\n    /** If not viewed, show notification and redirect to new page */\n    toast.notify(\n      `<span class=\"icon_emergency warning text-larger\"></span>\n        <strong>Notice:</strong> A new service disruption has been posted! \n        <a href=\"#\"><strong>More info &raquo;</strong></a>`,\n      {\n        duration: 8000,\n        className: 'warning',\n        position: {\n          right: true,\n          bottom: true\n        }\n      }\n    );\n  }\n  // }\n});\n\n/**\n * Listens to incoming emergency message socket data. Responsible for\n * mapping `RSSItem` objects to more useful `EmergencyMessage`\n * instances, and building a templated list from the items (if any).\n *\n * Checks and tracks view status of last received message; if last\n * has not been tracked as viewed, prompts user with a notification\n * and redirects to a new page. If already viewed, displays info bar.\n */\nclient.on<TYPE_EMERGENCY, RSSFeed>(TYPE_EMERGENCY, ({ data }) => {\n  /** Sets and compares a cookie of last viewed pubDate */\n  const viewedBefore = rss.checkViewStatus(TYPE_EMERGENCY, data);\n  const rssItems = rss.parseItems(data, item => new EmergencyMessage(item));\n\n  if (rssItems.length) {\n    if (emergencyFeedMessageEl) {\n      emergencyFeedMessageEl.innerHTML = rssItems\n        .map(\n          item => `<p class=\"emergencyTitle\">${item.title}</p>\n        <p class=\"emergencyDesc\">${item.description}</p>\n        <p class=\"emergencyDate\">${item.pubDate}</p>`\n        )\n        .join('\\n');\n    }\n\n    if (emergencyMessageBarEl && viewedBefore) {\n      /** If viewed before, just display info bar */\n      emergencyMessageBarEl.innerHTML = rssItems\n        .map(\n          item => `<div class=\"row\">\n        <a href=\"${REDIRECT_URL}\">\n          <div class=\"emergencyAlert\">\n          Emergency Alert\n          </div>\n          <div class=\"emergencyMessage\">\n            <span class=\"emergencyTitle\">${item.title}</span>\n            <span class=\"emergencyDesc\">${item.description}</span>\n            <span class=\"emergencyDate\">${item.pubDate}</span>\n          </div>\n        </a>\n      </div>`\n        )\n        .join('\\n');\n    }\n\n    if (!viewedBefore) {\n      //!emergencyMessageBarEl && !emergencyFeedMessageEl &&\n      /** If not viewed, show notification and redirect to new page */\n      toast.notify(\n        `<span class=\"icon_emergency alert text-larger\"></span>\n        <strong>Notice:</strong> You are about to be redirected to an emergency message!\n        <br/><small>Redirecting in:</small> <strong class=\"countdown\"></strong>`,\n        {\n          duration: 5000,\n          className: 'alert',\n          position: {\n            right: true,\n            bottom: true\n          },\n          onNotify,\n          onDismiss\n        }\n      );\n    }\n  } else {\n    if (emergencyFeedMessageEl) {\n      emergencyFeedMessageEl.innerHTML = `<p>\n        There are no emergencies at Ontario Tech University at this time.\n        <br>Please see information below for updates.\n      </p>`;\n    }\n    if (emergencyMessageBarEl) {\n      emergencyMessageBarEl.innerHTML = '';\n    }\n  }\n});\n\n// const TYPE_STATS = 'stats';\n// type TYPE_STATS = typeof TYPE_STATS;\n// type Stats = {\n//   pool: number;\n//   idle: boolean;\n//   intervals: any;\n//   log: any;\n// };\n// client.on<TYPE_STATS, Stats>('stats', ({ data }) => {\n//   console.info('[stats]', data)\n// });\n\n\n\n// WEBPACK FOOTER //\n// ./client/index.ts","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Base class for providing a simple proxy to an instantiated\n * `WebSocket` connection.\n *\n * @export\n * @class SocketConnection\n */\nvar SocketConnection = /** @class */ (function () {\n    function SocketConnection(url, endpoint) {\n        if (!url) {\n            var location_1 = document.location;\n            var host = location_1.host, protocol = location_1.protocol, port = location_1.port;\n            url = protocol.replace(/http/, 'ws') + \"//\" + host.replace(/:.*/, '') + (port ? \":\" + port : '');\n        }\n        url = url + \"/\" + (endpoint || '');\n        this.connection = new WebSocket(url);\n    }\n    SocketConnection.prototype.onMessage = function (callback) {\n        this.connection.onmessage = callback;\n    };\n    SocketConnection.prototype.close = function () {\n        this.connection.close();\n    };\n    SocketConnection.prototype.send = function (what) {\n        this.connection.send(what);\n    };\n    return SocketConnection;\n}());\nexports.SocketConnection = SocketConnection;\n//# sourceMappingURL=socket.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/mighty-polling-socket-server/dist/socket.js\n// module id = 3\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _1 = require(\".\");\n/**\n * This class represents the base hub for all socket poll related\n * messaging and action. Its primary purpose is to pre-initialize a\n * socket connection, as well as provide callback functions for all\n * configured message types.\n *\n * @example\n * // configure a message type\n * const TYPE_EMERGENCY = 'emergency';\n * // initialize a new feed\n * const feed = new SocketPollClient();\n * // assign an action to a message type\n * feed.on(TYPE_EMERGENCY, items => {...});\n *\n * @export\n * @class SocketPollClient\n */\nvar SocketPollClient = /** @class */ (function () {\n    function SocketPollClient(baseUrl) {\n        this.baseUrl = baseUrl;\n        this._typeCallbacks = {};\n    }\n    /**\n     * @template T\n     * @param {string} type\n     * @param {(items: T) => void} callback\n     * @memberof SocketPollClient\n     */\n    SocketPollClient.prototype.on = function (type, callback) {\n        this._typeCallbacks[type] = callback;\n        this.addSocketListener(type);\n    };\n    /**\n     * Initializes event listener for socket messages with the\n     * pre-initialized socket connection; passes event data from\n     * message to this class' `onMessage` method.\n     *\n     * @private\n     * @template T\n     * @template D\n     * @param {T} type\n     * @memberof SocketPollClient\n     */\n    SocketPollClient.prototype.addSocketListener = function (type) {\n        var _this = this;\n        var socket = new _1.SocketConnection(this.baseUrl, type);\n        socket.onMessage(function (event) { return _this.onMessage(type, event); });\n        console.log(\"[socket] added listener for \\\"\" + type + \"\\\"\");\n    };\n    /**\n     * Receives a socket's `MessageEvent`; parses the raw string data\n     * into a usable object; determines the type of emergency message\n     * and calls the appropriate callback with the parsed data as its\n     * first argument.\n     *\n     * @private\n     * @template T\n     * @template D\n     * @param {T} type\n     * @param {MessageEvent} event\n     * @memberof SocketPollClient\n     */\n    SocketPollClient.prototype.onMessage = function (type, event) {\n        var eventData = JSON.parse(event.data);\n        console.log(\"[socket] \" + eventData.type + \" message received\", eventData);\n        this._typeCallbacks[type](eventData);\n    };\n    return SocketPollClient;\n}());\nexports.SocketPollClient = SocketPollClient;\n//# sourceMappingURL=socket-client.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/mighty-polling-socket-server/dist/socket-client.js\n// module id = 4\n// module chunks = 0","export * from './rss';\nexport * from './notification';\n\n\n\n// WEBPACK FOOTER //\n// ./client/lib/index.ts","import { RSS } from 'mighty-polling-socket-server/dist';\n\n/** Container type for `xml2js` RSS feeds */\nexport type RSSFeed = { rss: RSS.Feed };\n\nexport type ViewStatusCallback = (status: boolean) => any | void;\n\n/** One week in seconds */\nconst TWO_WEEKS = 2 * 7 * 24 * 60 * 60 * 1000;\n/** Cookie name to reuse for `trackLastViewed` */\nconst COOKIE_NAME = 'last-viewed-pubdate';\n\n/**\n * Utility class for RSS feed parsing and actions.\n *\n * @export\n * @class RSSUtility\n */\nexport class RSSUtility {\n  /**\n   * Shortcut for pulling `<item>` objects out of an RSS feed.\n   * Receives an optional transform function that is applied\n   * to the items after they are extracted. Returns an array of\n   * either `RSS.Item` objects or a type specified in transform.\n   *\n   * @template I\n   * @template T\n   * @param {RSSFeed} data\n   * @param {(item: I) => T} [transform]\n   * @returns {((T | I)[])}\n   * @memberof RSSUtility\n   */\n  parseItems<I extends RSS.Item, T>(data: RSSFeed, transform?: (item: I) => T): (T | I)[] {\n    const channelItems: (T | I)[] =\n      data && data.rss.channel[0].item && data.rss.channel[0].item.length\n        ? <I[]>data.rss.channel[0].item\n        : [];\n    return transform ? channelItems.map(transform) : channelItems;\n  }\n\n  /**\n   * Optionally check the publish date of an incoming RSS data object\n   * against a cookie set to the publish date of the last viewed data.\n   * If the dates do not match, stores the new date in the cookie. Returns\n   * true if viewed already, false if not.\n   *\n   * @param {RSSFeed} data\n   * @memberof RSSUtility\n   */\n  checkViewStatus(type: string, data: RSSFeed, callback?: ViewStatusCallback) {\n    const cookieName = this._getCookieName(type);\n    let cookieDate;\n    try {\n      let pubDate;\n      if (data.rss.channel && data.rss.channel[0].item) {\n        pubDate = (data.rss.channel[0].pubDate || data.rss.channel[0].item[0].pubDate)[0];\n      }\n      cookieDate = new Date(pubDate).getTime().toString();\n    } catch (err) {\n      console.warn(`Error parsing RSS pubDate: ${err}`);\n      return;\n    }\n    const lastViewedPubDate = this._getCookie(cookieName);\n    const viewedStatus = cookieDate === lastViewedPubDate;\n    if (callback) {\n      callback(viewedStatus);\n    }\n    return viewedStatus || (this._setCookie(cookieName, cookieDate) || false);\n  }\n\n  /**\n   * Gets a formatted cookie name.\n   *\n   * @private\n   * @param {string} type\n   * @memberof RSSUtility\n   */\n  private _getCookieName(type: string) {\n    return `${COOKIE_NAME}_${encodeURIComponent(type)}`;\n  }\n\n  /**\n   * Gets a document cookie value by name.\n   *\n   * @private\n   * @param {any} name\n   * @memberof RSSUtility\n   */\n  private _getCookie(name) {\n    const value = `; ${document.cookie}`;\n    const parts = value.split(`; ${name}=`);\n    if (parts.length === 2) {\n      return parts\n        .pop()\n        .split(';')\n        .shift();\n    }\n  }\n\n  /**\n   * Sets a document cookie by name to a given value and sets\n   * an expiry date of one week from now.\n   *\n   * @private\n   * @param {any} name\n   * @param {any} value\n   * @memberof RSSUtility\n   */\n  private _setCookie(name, value) {\n    const date = new Date();\n    date.setTime(date.getTime() + TWO_WEEKS);\n    document.cookie = `${name}=${value}; expires=${date.toUTCString()}; path=/;`;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/lib/rss.ts","import '../styles/notification.scss';\n\nexport type NotificationOptions = Partial<{\n  duration: number,\n  className: string,\n  countdown: boolean,\n  position: Partial<{\n    left: boolean,\n    right: boolean,\n    top: boolean,\n    bottom: boolean\n  }>,\n  disableAnimation: boolean,\n  onNotify(): void,\n  onDismiss(): void\n}>;\n\nexport class Notification {\n  private _options: NotificationOptions;\n  private _notification: Element;\n\n  constructor(private _defaults: NotificationOptions = {}) { }\n\n  notify(message: string, options: NotificationOptions = {}) {\n    this._options = {...this._defaults, ...options};\n    this._notification = this._getNotification(message);\n    this._transitionIn();\n    if (this._options.duration) {\n      setTimeout(() => {\n        this._transitionOut();\n      }, this._options.duration);\n    }\n    return this;\n  }\n\n  dismiss() {\n    this._transitionOut();\n  }\n\n  private _getNotification(message: string) {\n    const notificationClasses = this._getNotificationClasses();\n    const template = document.createElement('template');\n    template.innerHTML = `<div data-closable class=\"callout alert-callout ${notificationClasses}\">\n      ${message}\n      <button class=\"close-button\" aria-label=\"Dismiss alert\" type=\"button\" data-close>\n        <span aria-hidden=\"true\"></span>\n      </button>\n    </div>`;\n    return template.content.firstChild as Element;\n  }\n\n  private _transitionIn() {\n    if (this._options.disableAnimation) {\n      document.body.appendChild(this._notification);\n      this._options.onNotify && this._options.onNotify.apply(this._notification);\n    } else {\n      this._notification.classList.remove('fadeOutUp');\n      this._notification.classList.add('fadeInDown');\n      document.body.appendChild(this._notification);\n      setTimeout(() => {\n        this._options.onNotify && this._options.onNotify.apply(this._notification);\n      }, 1000);\n    }\n  }\n\n  private _transitionOut() {\n    if (this._options.disableAnimation) {\n      document.body.removeChild(this._notification);\n      this._options.onDismiss && this._options.onDismiss.apply(this._notification);\n    } else {\n      this._notification.classList.remove('fadeInDown');\n      this._notification.classList.add('fadeOutUp');\n      setTimeout(() => {\n        document.body.removeChild(this._notification);\n        this._options.onDismiss && this._options.onDismiss.apply(this._notification);\n      }, 1000);\n    }\n  }\n\n  private _getNotificationClasses() {\n    const notificationClasses = ['notification'];\n    this._options.position && Object.keys(this._options.position).forEach(key => {\n      this._options.position[key] && notificationClasses.push(`notification-${key}`);\n    });\n    this._options.className && notificationClasses.push(this._options.className);\n    !this._options.disableAnimation && notificationClasses.push('animated');\n    return notificationClasses.join(' ');\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./client/lib/notification.ts","/**\n * Provides an abstract base class for incoming socket messages\n * to inherit from. This class is not meant to be used on its own,\n * but rather extended by further message types.\n * \n * This is primarily just used to share editorially-correct date\n * formatting methods, but would be a good place to put other\n * institution-specific utilities.\n * \n * @export\n * @class MessageBase\n */\nexport class MessageBase {\n  /**\n   * Static list of month names in 0-11 indexed order.\n   * \n   * @private\n   * @static\n   */\n  private static months = [\n    'January', 'February', 'March',\n    'April', 'May', 'June', 'July',\n    'August', 'September', 'October',\n    'November', 'December'\n  ];\n  /**\n   * Changes a valid date string (i.e. one that that can be used\n   * in a `new Date()` instance) into UOIT-friendly formatting. See\n   * the [brand.uoit.ca](1) page on date formatting.\n   * \n   * [1]: https://brand.uoit.ca/documentation-and-guides/editorial-style-guide/style-guidelines/dates.php\n   * \n   * @protected\n   * @param {string} dateString \n   * @returns {string}\n   */\n  protected formatDate?(dateString: string): string {\n    const date = new Date(dateString);\n    return [\n      MessageBase.months[date.getMonth()],\n      ' ', date.getDate(),\n      ', ', date.getFullYear(),\n      ' ', this.leadingZero(date.getHours()),\n      ':', this.leadingZero(date.getMinutes())\n    ].join('');\n  }\n  /**\n   * Prepends a zero to the beginning of a number if it would equal\n   * less than two digits, i.e. 1-9 become 01-09.\n   * \n   * @protected\n   * @param {number} number \n   * @returns {string}\n   */\n  protected leadingZero?(number: number): string {\n    return number < 10 ? `0${number}` : number.toString();\n  }\n  /**\n   * Grabs individual properties from an object by name and gives\n   * back an object with only those properties.\n   * \n   * @protected\n   * @template T Original object\n   * @template K Key of original object\n   * @param {T} obj Object from which to pluck\n   * @param {K[]} props Array of property names to pluck\n   * @returns {Partial<T>}\n   */\n  protected pluck?<T, K extends keyof T>(obj: T, props: K[]): Partial<T> {\n    return props.reduce((result, key) => {\n      result[key] = obj[key];\n      return result;\n    }, {} as Partial<T>);\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./client/models/message-base.ts","import { XML, RSSExtras } from 'mighty-polling-socket-server';\n\nimport { MessageBase } from '.';\n\nexport const TYPE_DISRUPTION = 'disruption';\nexport type TYPE_DISRUPTION = typeof TYPE_DISRUPTION;\n\nexport type ServiceDisruptionRSSItemContent = {\n  summary: string;\n  article: string;\n}\nexport type ServiceDisruptionRSSItem = RSSExtras.ItemWithMedia & XML.WithContent<ServiceDisruptionRSSItemContent>\n\nexport class ServiceDisruption extends MessageBase {\n  title: string;\n  description: string;\n  link: string;\n  guid: string;\n  summary: string;\n  category: string;\n  pubDate: string;\n  article: string;\n  mediaContent?: string;\n  mediaDescription?: string;\n\n  constructor(item: ServiceDisruptionRSSItem) {\n    super();\n    const content = this.extractContent(item);\n    Object.assign(this, content);\n  }\n\n  private extractContent?({\n    title: [title], description: [description], link: [link],\n    guid: [{ _: guid }], summary: [summary],\n    article: [article], pubDate: [pubDate],\n    category: rawCategory, ['media:content']: rawMedia\n  }: ServiceDisruptionRSSItem): ServiceDisruption {\n    let category, media = {};\n\n    if (rawMedia && rawMedia.length) {\n      const [{\n        $: { url: mediaContent, description: mediaDescription }\n      }] = rawMedia;\n      media = { mediaContent, mediaDescription };\n    }\n\n    if (rawCategory && rawCategory.length) {\n      const [{ _: categoryText }] = rawCategory;\n      category = categoryText;\n    }\n\n    return {\n      title, description, link,\n      guid, summary, ...{ category },\n      pubDate: this.formatDate(pubDate),\n      article, ...media\n    };\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/models/service-disruption.ts","import { RSS } from 'mighty-polling-socket-server';\n\nimport { MessageBase } from '.';\n\nexport const TYPE_EMERGENCY = 'emergency';\nexport type TYPE_EMERGENCY = typeof TYPE_EMERGENCY;\n\nexport class EmergencyMessage extends MessageBase {\n  title: string;\n  description: string;\n  link: string;\n  guid: string;\n  pubDate: string;\n\n  constructor(item: RSS.Item) {\n    super();\n    const content = this.extractContent(item);\n    Object.assign(this, content);\n  }\n\n  private extractContent?({\n    title: [title], description: [description],\n    link: [link], guid: [{ _: guid }], pubDate: [pubDate]\n  }: RSS.Item): EmergencyMessage {\n    return {\n      title, description, link,\n      guid, pubDate: this.formatDate(pubDate),\n    };\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/models/emergency-message.ts"],"sourceRoot":""}