{"version":3,"sources":["webpack:///main-bundle.6755e62db86577227be9.js","webpack:///webpack/bootstrap 6755e62db86577227be9","webpack:///./node_modules/mighty-polling-socket-server/dist/index.js","webpack:///./client/index.ts","webpack:///./node_modules/mighty-polling-socket-server/dist/socket.js","webpack:///./node_modules/mighty-polling-socket-server/dist/socket-client.js","webpack:///./client/lib/notification.ts","webpack:///./client/lib/dom.ts","webpack:///./client/lib/rss.ts","webpack:///./client/models/message-base.ts","webpack:///./client/models/service-disruption.ts","webpack:///./client/models/emergency-message.ts"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_0__message_base__","__WEBPACK_IMPORTED_MODULE_1__service_disruption__","__WEBPACK_IMPORTED_MODULE_2__emergency_message__","__export","value","_toConsumableArray","arr","Array","isArray","arr2","length","from","__WEBPACK_IMPORTED_MODULE_0_mighty_polling_socket_server_dist__","__WEBPACK_IMPORTED_MODULE_1__styles_main_scss__","__WEBPACK_IMPORTED_MODULE_2__lib__","__WEBPACK_IMPORTED_MODULE_3__models__","rss","toast","client","emergencyMessageBar","document","getElementById","emergencyFeedMessage","serviceDisruptionMessage","onNotify","secondsLeft","countdownDone","elements","concat","this","childNodes","countdownEl","find","el","classList","contains","innerHTML","ticker","setInterval","clearInterval","onDismiss","location","assign","on","_ref","data","viewedBefore","checkViewStatus","rssItems","parseItems","item","html","map","link","title","mediaContent","mediaDescription","pubDate","join","notify","duration","className","position","right","bottom","_ref2","description","_html2","_ref3","console","info","SocketConnection","url","endpoint","location_1","host","protocol","port","replace","connection","WebSocket","onMessage","callback","onmessage","close","send","what","_1","SocketPollClient","_typeCallbacks","type","addSocketListener","_this","event","log","eventData","JSON","parse","__WEBPACK_IMPORTED_MODULE_0__notification__","__WEBPACK_IMPORTED_MODULE_2__rss__","_classCallCheck","instance","Constructor","TypeError","Notification","__WEBPACK_IMPORTED_MODULE_0__styles_notification_scss__","_createClass","defineProperties","target","props","descriptor","writable","key","protoProps","staticProps","_defaults","arguments","undefined","message","options","_options","_notification","_getNotification","_transitionIn","setTimeout","_transitionOut","notificationClasses","_getNotificationClasses","template","createElement","content","firstChild","_this2","disableAnimation","body","appendChild","apply","remove","add","_this3","removeChild","_this4","keys","forEach","push","DomBuddy","to","_to","it","insertAdjacentHTML","_normalize","before","after","how","then","toString","NodeList","outerHTML","Node","querySelectorAll","Error","RSSUtility","transform","channelItems","channel","cookieName","COOKIE_NAME","encodeURIComponent","cookieDate","Date","getTime","err","warn","_getCookie","_setCookie","cookie","parts","split","pop","shift","date","setTime","toUTCString","MessageBase","dateString","months","getMonth","getDate","getFullYear","leadingZero","getHours","getMinutes","number","obj","reduce","result","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","TYPE_DISRUPTION","ServiceDisruption","__WEBPACK_IMPORTED_MODULE_0____","_slicedToArray","sliceIterator","_arr","_n","_d","_e","_s","_i","Symbol","iterator","next","done","_MessageBase","getPrototypeOf","extractContent","_ref$title","_ref$description","_ref$link","_ref$guid","guid","_","_ref$summary","summary","_ref$article","article","_ref$pubDate","rawCategory","category","rawMedia","media","_rawMedia","_rawMedia$0$$","$","formatDate","TYPE_EMERGENCY","EmergencyMessage"],"mappings":"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","file":"main-bundle.6755e62db86577227be9.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 2);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__message_base__ = __webpack_require__(11);\n/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return __WEBPACK_IMPORTED_MODULE_0__message_base__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__service_disruption__ = __webpack_require__(12);\n/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return __WEBPACK_IMPORTED_MODULE_1__service_disruption__[\"a\"]; });\n/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return __WEBPACK_IMPORTED_MODULE_1__service_disruption__[\"b\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__emergency_message__ = __webpack_require__(13);\n/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return __WEBPACK_IMPORTED_MODULE_2__emergency_message__[\"a\"]; });\n/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return __WEBPACK_IMPORTED_MODULE_2__emergency_message__[\"b\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__weather_alert__ = __webpack_require__(14);\n/* unused harmony namespace reexport */\n\n\n\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(__webpack_require__(3));\n__export(__webpack_require__(4));\n//# sourceMappingURL=index.js.map\n\n/***/ }),\n/* 2 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_mighty_polling_socket_server_dist__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_mighty_polling_socket_server_dist___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_mighty_polling_socket_server_dist__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__styles_main_scss__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__styles_main_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__styles_main_scss__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lib__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__models__ = __webpack_require__(0);\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n\n\n\n\nvar REDIRECT_URL = 'http://uoit.ca/emergency';\nvar rss = new __WEBPACK_IMPORTED_MODULE_2__lib__[\"b\" /* RSSUtility */]();\nvar toast = new __WEBPACK_IMPORTED_MODULE_2__lib__[\"a\" /* Notification */]();\nvar client = new __WEBPACK_IMPORTED_MODULE_0_mighty_polling_socket_server_dist__[\"SocketPollClient\"]();\n/**\n * Hold references to all feed containers (also provides a null checks).\n */\nvar emergencyMessageBar = document.getElementById('emergencyMessageBar');\nvar emergencyFeedMessage = document.getElementById('emergencyFeedMessage');\nvar serviceDisruptionMessage = document.getElementById('serviceDisruptionMessage');\n/**\n * A bind-ready function for running a 5-second countdown\n * inside the notification displayed before emergency message\n * redirects, to notify of impending redirection.\n */\nvar onNotify = function startCountdown() {\n    var secondsLeft = 5,\n        countdownDone = false;\n    var elements = [].concat(_toConsumableArray(this.childNodes));\n    var countdownEl = elements.find(function (el) {\n        return el.classList && el.classList.contains('countdown');\n    });\n    countdownEl.innerHTML = secondsLeft + ' seconds';\n    var ticker = setInterval(function () {\n        secondsLeft--;\n        countdownDone = secondsLeft === 0;\n        countdownEl.innerHTML = countdownDone ? 'Now!' : secondsLeft + ' seconds';\n        countdownDone && clearInterval(ticker);\n    }, 1000);\n};\n/**\n * Performs a redirect after notification has been dismissed.\n */\nvar onDismiss = function onDismiss() {\n    return document.location.assign(REDIRECT_URL);\n};\n/**\n * Listens to incoming service disruption socket data. Responsible for\n * mapping `ServiceDisruptionRSSItem` objects to more useful `ServiceDisruption`\n * instances, and building a templated list from the items (if any).\n */\nclient.on(__WEBPACK_IMPORTED_MODULE_3__models__[\"d\" /* TYPE_DISRUPTION */], function (_ref) {\n    var data = _ref.data;\n\n    /** Sets and compares a cookie of last viewed pubDate */\n    var viewedBefore = rss.checkViewStatus(__WEBPACK_IMPORTED_MODULE_3__models__[\"d\" /* TYPE_DISRUPTION */], data);\n    if (serviceDisruptionMessage) {\n        var rssItems = rss.parseItems(data, function (item) {\n            return new __WEBPACK_IMPORTED_MODULE_3__models__[\"c\" /* ServiceDisruption */](item);\n        });\n        if (rssItems.length) {\n            var html = rssItems.map(function (item) {\n                return '<div class=\"emergencyNewsItem\">\\n        <a href=\"' + item.link + '\" title=\"' + item.title + '\"><img src=\"' + item.mediaContent + '\" alt=\"' + item.mediaDescription + '\" width=\"100\" height=\"67\"></a>\\n        <p><strong><a href=\"' + item.link + '\">' + item.title + '</strong></a></p>\\n        <p class=\"date\">' + item.pubDate + '</p>\\n      </div>';\n            }).join('\\n');\n            serviceDisruptionMessage.innerHTML = html;\n        }\n    } // else {\n    if (!viewedBefore) {\n        /** If not viewed, show notification and redirect to new page */\n        var _html = '<span class=\"icon_emergency warning text-larger\"></span>\\n        <strong>Notice:</strong> A new service disruption has been posted! \\n        <a href=\"#\"><strong>More info &raquo;</strong></a>';\n        toast.notify(_html, {\n            duration: 8000,\n            className: 'warning',\n            position: {\n                right: true,\n                bottom: true\n            }\n        });\n    }\n    // }\n});\n/**\n * Listens to incoming emergency message socket data. Responsible for\n * mapping `RSSItem` objects to more useful `EmergencyMessage`\n * instances, and building a templated list from the items (if any).\n *\n * Checks and tracks view status of last received message; if last\n * has not been tracked as viewed, prompts user with a notification\n * and redirects to a new page. If already viewed, displays info bar.\n */\nclient.on(__WEBPACK_IMPORTED_MODULE_3__models__[\"e\" /* TYPE_EMERGENCY */], function (_ref2) {\n    var data = _ref2.data;\n\n    /** Sets and compares a cookie of last viewed pubDate */\n    var viewedBefore = rss.checkViewStatus(__WEBPACK_IMPORTED_MODULE_3__models__[\"e\" /* TYPE_EMERGENCY */], data);\n    var rssItems = rss.parseItems(data, function (item) {\n        return new __WEBPACK_IMPORTED_MODULE_3__models__[\"a\" /* EmergencyMessage */](item);\n    });\n    if (rssItems.length) {\n        if (emergencyFeedMessage) {\n            var html = rssItems.map(function (item) {\n                return '<p class=\"emergencyTitle\">' + item.title + '</p>\\n        <p class=\"emergencyDesc\">' + item.description + '</p>\\n        <p class=\"emergencyDate\">' + item.pubDate + '</p>';\n            }).join('\\n');\n            emergencyFeedMessage.innerHTML = html;\n        }\n        if (emergencyMessageBar && viewedBefore) {\n            /** If viewed before, just display info bar */\n            var _html2 = rssItems.map(function (item) {\n                return '<div class=\"row\">\\n        <a href=\"' + REDIRECT_URL + '\">\\n          <div class=\"emergencyAlert\">\\n          Emergency Alert\\n          </div>\\n          <div class=\"emergencyMessage\">\\n            <span class=\"emergencyTitle\">' + item.title + '</span>\\n            <span class=\"emergencyDesc\">' + item.description + '</span>\\n            <span class=\"emergencyDate\">' + item.pubDate + '</span>\\n          </div>\\n        </a>\\n      </div>';\n            }).join('\\n');\n            emergencyMessageBar.innerHTML = _html2;\n        }\n        if (!viewedBefore) {\n            /** If not viewed, show notification and redirect to new page */\n            var _html3 = '<span class=\"icon_emergency alert text-larger\"></span>\\n        <strong>Notice:</strong> You are about to be redirected to an emergency message!\\n        <br/><small>Redirecting in:</small> <strong class=\"countdown\"></strong>';\n            toast.notify(_html3, {\n                duration: 5000,\n                className: 'alert',\n                position: {\n                    right: true,\n                    bottom: true\n                },\n                onNotify: onNotify,\n                onDismiss: onDismiss\n            });\n        }\n    }\n});\nvar TYPE_STATS = 'stats';\nclient.on('stats', function (_ref3) {\n    var data = _ref3.data;\n\n    console.info('[stats]', data);\n});\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Base class for providing a simple proxy to an instantiated\n * `WebSocket` connection.\n *\n * @export\n * @class SocketConnection\n */\nvar SocketConnection = /** @class */ (function () {\n    function SocketConnection(url, endpoint) {\n        if (!url) {\n            var location_1 = document.location;\n            var host = location_1.host, protocol = location_1.protocol, port = location_1.port;\n            url = protocol.replace(/http/, 'ws') + \"//\" + host.replace(/:.*/, '') + (port ? ':8080' : '');\n        }\n        url = url + \"/\" + (endpoint || '');\n        this.connection = new WebSocket(url);\n    }\n    SocketConnection.prototype.onMessage = function (callback) {\n        this.connection.onmessage = callback;\n    };\n    SocketConnection.prototype.close = function () {\n        this.connection.close();\n    };\n    SocketConnection.prototype.send = function (what) {\n        this.connection.send(what);\n    };\n    return SocketConnection;\n}());\nexports.SocketConnection = SocketConnection;\n//# sourceMappingURL=socket.js.map\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _1 = __webpack_require__(1);\n/**\n * This class represents the base hub for all socket poll related\n * messaging and action. Its primary purpose is to pre-initialize a\n * socket connection, as well as provide callback functions for all\n * configured message types.\n *\n * @example\n * // configure a message type\n * const TYPE_EMERGENCY = 'emergency';\n * // initialize a new feed\n * const feed = new SocketPollClient();\n * // assign an action to a message type\n * feed.on(TYPE_EMERGENCY, items => {...});\n *\n * @export\n * @class SocketPollClient\n */\nvar SocketPollClient = /** @class */ (function () {\n    function SocketPollClient() {\n        this._typeCallbacks = {};\n    }\n    /**\n     * @template T\n     * @param {string} type\n     * @param {(items: T) => void} callback\n     * @memberof SocketPollClient\n     */\n    SocketPollClient.prototype.on = function (type, callback) {\n        this._typeCallbacks[type] = callback;\n        this.addSocketListener(type);\n    };\n    /**\n     * Initializes event listener for socket messages with the\n     * pre-initialized socket connection; passes event data from\n     * message to this class' `onMessage` method.\n     *\n     * @private\n     * @template T\n     * @template D\n     * @param {T} type\n     * @memberof SocketPollClient\n     */\n    SocketPollClient.prototype.addSocketListener = function (type) {\n        var _this = this;\n        var socket = new _1.SocketConnection(null, type);\n        socket.onMessage(function (event) { return _this.onMessage(type, event); });\n        console.log(\"[socket] added listener for \\\"\" + type + \"\\\"\");\n    };\n    /**\n     * Receives a socket's `MessageEvent`; parses the raw string data\n     * into a usable object; determines the type of emergency message\n     * and calls the appropriate callback with the parsed data as its\n     * first argument.\n     *\n     * @private\n     * @template T\n     * @template D\n     * @param {T} type\n     * @param {MessageEvent} event\n     * @memberof SocketPollClient\n     */\n    SocketPollClient.prototype.onMessage = function (type, event) {\n        var eventData = JSON.parse(event.data);\n        console.log(\"[socket] \" + eventData.type + \" message received\", eventData);\n        this._typeCallbacks[type](eventData);\n    };\n    return SocketPollClient;\n}());\nexports.SocketPollClient = SocketPollClient;\n//# sourceMappingURL=socket-client.js.map\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 6 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__notification__ = __webpack_require__(7);\n/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return __WEBPACK_IMPORTED_MODULE_0__notification__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__dom__ = __webpack_require__(9);\n/* unused harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__rss__ = __webpack_require__(10);\n/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return __WEBPACK_IMPORTED_MODULE_2__rss__[\"a\"]; });\n\n\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Notification; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__styles_notification_scss__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__styles_notification_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__styles_notification_scss__);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\nvar Notification = function () {\n    function Notification() {\n        var _defaults = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n        _classCallCheck(this, Notification);\n\n        this._defaults = _defaults;\n    }\n\n    _createClass(Notification, [{\n        key: 'notify',\n        value: function notify(message) {\n            var _this = this;\n\n            var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n            this._options = Object.assign({}, this._defaults, options);\n            this._notification = this._getNotification(message);\n            this._transitionIn();\n            if (this._options.duration) {\n                setTimeout(function () {\n                    _this._transitionOut();\n                }, this._options.duration);\n            }\n            return this;\n        }\n    }, {\n        key: 'dismiss',\n        value: function dismiss() {\n            this._transitionOut();\n        }\n    }, {\n        key: '_getNotification',\n        value: function _getNotification(message) {\n            var notificationClasses = this._getNotificationClasses();\n            var template = document.createElement('template');\n            template.innerHTML = '<div data-closable class=\"callout alert-callout ' + notificationClasses + '\">\\n      ' + message + '\\n      <button class=\"close-button\" aria-label=\"Dismiss alert\" type=\"button\" data-close>\\n        <span aria-hidden=\"true\">\\u2297</span>\\n      </button>\\n    </div>';\n            return template.content.firstChild;\n        }\n    }, {\n        key: '_transitionIn',\n        value: function _transitionIn() {\n            var _this2 = this;\n\n            if (this._options.disableAnimation) {\n                document.body.appendChild(this._notification);\n                this._options.onNotify && this._options.onNotify.apply(this._notification);\n            } else {\n                this._notification.classList.remove('fadeOutUp');\n                this._notification.classList.add('fadeInDown');\n                document.body.appendChild(this._notification);\n                setTimeout(function () {\n                    _this2._options.onNotify && _this2._options.onNotify.apply(_this2._notification);\n                }, 1000);\n            }\n        }\n    }, {\n        key: '_transitionOut',\n        value: function _transitionOut() {\n            var _this3 = this;\n\n            if (this._options.disableAnimation) {\n                document.body.removeChild(this._notification);\n                this._options.onDismiss && this._options.onDismiss.apply(this._notification);\n            } else {\n                this._notification.classList.remove('fadeInDown');\n                this._notification.classList.add('fadeOutUp');\n                setTimeout(function () {\n                    document.body.removeChild(_this3._notification);\n                    _this3._options.onDismiss && _this3._options.onDismiss.apply(_this3._notification);\n                }, 1000);\n            }\n        }\n    }, {\n        key: '_getNotificationClasses',\n        value: function _getNotificationClasses() {\n            var _this4 = this;\n\n            var notificationClasses = ['notification'];\n            this._options.position && Object.keys(this._options.position).forEach(function (key) {\n                _this4._options.position[key] && notificationClasses.push('notification-' + key);\n            });\n            this._options.className && notificationClasses.push(this._options.className);\n            !this._options.disableAnimation && notificationClasses.push('animated');\n            return notificationClasses.join(' ');\n        }\n    }]);\n\n    return Notification;\n}();\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 9 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export DomBuddy */\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar DomBuddy = function () {\n    function DomBuddy() {\n        _classCallCheck(this, DomBuddy);\n    }\n\n    _createClass(DomBuddy, [{\n        key: 'addClass',\n\n        /**\n         * PUBLIC METHODS\n         */\n        value: function addClass(what) {\n            return {\n                to: this._to(function (it) {\n                    return it.classList.add(what);\n                })\n            };\n        }\n    }, {\n        key: 'removeClass',\n        value: function removeClass(what) {\n            return {\n                from: this._to(function (it) {\n                    return it.classList.remove(what);\n                })\n            };\n        }\n    }, {\n        key: 'prepend',\n        value: function prepend(what) {\n            var _this = this;\n\n            return {\n                to: this._to(function (it) {\n                    return it.insertAdjacentHTML('afterbegin', _this._normalize(what));\n                }),\n                before: this._to(function (it) {\n                    return it.insertAdjacentHTML('beforebegin', _this._normalize(what));\n                })\n            };\n        }\n    }, {\n        key: 'append',\n        value: function append(what) {\n            var _this2 = this;\n\n            return {\n                to: this._to(function (it) {\n                    return it.insertAdjacentHTML('beforeend', _this2._normalize(what));\n                }),\n                after: this._to(function (it) {\n                    return it.insertAdjacentHTML('afterend', _this2._normalize(what));\n                })\n            };\n        }\n    }, {\n        key: 'clear',\n        value: function clear(what) {\n            return this._to(function (it) {\n                return it.innerHTML = '';\n            })(what);\n        }\n        /**\n         * PRIVATE METHODS\n         */\n\n    }, {\n        key: '_to',\n        value: function _to(how) {\n            var _this3 = this;\n\n            return function (what) {\n                var to = _this3._normalize(what, false);\n                [].concat(_toConsumableArray(to)).forEach(function (it) {\n                    return how(it);\n                });\n                return { then: _this3 };\n            };\n        }\n    }, {\n        key: '_normalize',\n        value: function _normalize(what) {\n            var toString = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n            if (what instanceof NodeList) return toString ? [].concat(_toConsumableArray(what)).map(function (it) {\n                return it.outerHTML;\n            }).join('\\n') : [].concat(_toConsumableArray(what));else if (what instanceof Node) return toString ? what.outerHTML : [what];else if (typeof what === 'string') return toString ? what : document.querySelectorAll(what);else throw new Error('DomBuddy was provided with an invalid value of ' + what);\n        }\n    }]);\n\n    return DomBuddy;\n}();\n\n/***/ }),\n/* 10 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return RSSUtility; });\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/** One week in seconds */\nvar TWO_WEEKS = 2 * 7 * 24 * 60 * 60 * 1000;\n/** Cookie name to reuse for `trackLastViewed` */\nvar COOKIE_NAME = 'last-viewed-pubdate';\n/**\n * Utility class for RSS feed parsing and actions.\n *\n * @export\n * @class RSSUtility\n */\nvar RSSUtility = function () {\n    function RSSUtility() {\n        _classCallCheck(this, RSSUtility);\n    }\n\n    _createClass(RSSUtility, [{\n        key: 'parseItems',\n\n        /**\n         * Shortcut for pulling `<item>` objects out of an RSS feed.\n         * Receives an optional transform function that is applied\n         * to the items after they are extracted. Returns an array of\n         * either `RSS.Item` objects or a type specified in transform.\n         *\n         * @template I\n         * @template T\n         * @param {RSSFeed} data\n         * @param {(item: I) => T} [transform]\n         * @returns {((T | I)[])}\n         * @memberof RSSUtility\n         */\n        value: function parseItems(data, transform) {\n            var channelItems = data && data.rss.channel[0].item && data.rss.channel[0].item.length ? data.rss.channel[0].item : [];\n            return transform ? channelItems.map(transform) : channelItems;\n        }\n        /**\n         * Optionally check the publish date of an incoming RSS data object\n         * against a cookie set to the publish date of the last viewed data.\n         * If the dates do not match, stores the new date in the cookie. Returns\n         * true if viewed already, false if not.\n         *\n         * @param {RSSFeed} data\n         * @memberof RSSUtility\n         */\n\n    }, {\n        key: 'checkViewStatus',\n        value: function checkViewStatus(type, data) {\n            var cookieName = COOKIE_NAME + '_' + encodeURIComponent(type);\n            var cookieDate = void 0;\n            try {\n                var pubDate = (data.rss.channel[0].pubDate || data.rss.channel[0].item[0].pubDate)[0];\n                cookieDate = new Date(pubDate).getTime().toString();\n            } catch (err) {\n                console.warn('Error parsing RSS pubDate: ' + err);\n                return;\n            }\n            var lastViewedPubDate = this._getCookie(cookieName);\n            if (cookieDate !== lastViewedPubDate) {\n                this._setCookie(cookieName, cookieDate);\n                return false;\n            } else {\n                return true;\n            }\n        }\n        /**\n         * Gets a document cookie value by name.\n         *\n         * @private\n         * @param {any} name\n         * @memberof RSSUtility\n         */\n\n    }, {\n        key: '_getCookie',\n        value: function _getCookie(name) {\n            var value = '; ' + document.cookie;\n            var parts = value.split('; ' + name + '=');\n            if (parts.length === 2) {\n                return parts.pop().split(';').shift();\n            }\n        }\n        /**\n         * Sets a document cookie by name to a given value and sets\n         * an expiry date of one week from now.\n         *\n         * @private\n         * @param {any} name\n         * @param {any} value\n         * @memberof RSSUtility\n         */\n\n    }, {\n        key: '_setCookie',\n        value: function _setCookie(name, value) {\n            var date = new Date();\n            date.setTime(date.getTime() + TWO_WEEKS);\n            document.cookie = name + '=' + value + '; expires=' + date.toUTCString() + '; path=/;';\n        }\n    }]);\n\n    return RSSUtility;\n}();\n\n/***/ }),\n/* 11 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return MessageBase; });\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar MessageBase = function () {\n    function MessageBase() {\n        _classCallCheck(this, MessageBase);\n    }\n\n    _createClass(MessageBase, [{\n        key: 'formatDate',\n        value: function formatDate(dateString) {\n            var date = new Date(dateString);\n            return [MessageBase.months[date.getMonth()], ' ', date.getDate(), ', ', date.getFullYear(), ' ', this.leadingZero(date.getHours()), ':', this.leadingZero(date.getMinutes())].join('');\n        }\n    }, {\n        key: 'leadingZero',\n        value: function leadingZero(number) {\n            return number < 10 ? '0' + number : number;\n        }\n    }, {\n        key: 'pluck',\n        value: function pluck(obj, props) {\n            // return Object.assign({}, ...props.map(prop => ({[prop]: obj[prop]})));\n            return props.reduce(function (result, key) {\n                result[key] = obj[key];return result;\n            }, {});\n        }\n    }]);\n\n    return MessageBase;\n}();\nMessageBase.months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n\n/***/ }),\n/* 12 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return TYPE_DISRUPTION; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ServiceDisruption; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0____ = __webpack_require__(0);\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\nvar TYPE_DISRUPTION = 'disruption';\nvar ServiceDisruption = function (_MessageBase) {\n    _inherits(ServiceDisruption, _MessageBase);\n\n    function ServiceDisruption(item) {\n        _classCallCheck(this, ServiceDisruption);\n\n        var _this = _possibleConstructorReturn(this, (ServiceDisruption.__proto__ || Object.getPrototypeOf(ServiceDisruption)).call(this));\n\n        var content = _this.extractContent(item);\n        Object.assign(_this, content);\n        return _this;\n    }\n\n    _createClass(ServiceDisruption, [{\n        key: 'extractContent',\n        value: function extractContent(_ref) {\n            var _ref$title = _slicedToArray(_ref.title, 1),\n                title = _ref$title[0],\n                _ref$description = _slicedToArray(_ref.description, 1),\n                description = _ref$description[0],\n                _ref$link = _slicedToArray(_ref.link, 1),\n                link = _ref$link[0],\n                _ref$guid = _slicedToArray(_ref.guid, 1),\n                guid = _ref$guid[0]._,\n                _ref$summary = _slicedToArray(_ref.summary, 1),\n                summary = _ref$summary[0],\n                _ref$article = _slicedToArray(_ref.article, 1),\n                article = _ref$article[0],\n                _ref$pubDate = _slicedToArray(_ref.pubDate, 1),\n                pubDate = _ref$pubDate[0],\n                rawCategory = _ref.category,\n                rawMedia = _ref['media:content'];\n\n            var category = void 0,\n                media = {};\n            if (rawMedia && rawMedia.length) {\n                var _rawMedia = _slicedToArray(rawMedia, 1),\n                    _rawMedia$0$$ = _rawMedia[0].$,\n                    mediaContent = _rawMedia$0$$.url,\n                    mediaDescription = _rawMedia$0$$.description;\n\n                media = { mediaContent: mediaContent, mediaDescription: mediaDescription };\n            }\n            if (rawCategory && rawCategory.length) {\n                var _rawCategory = _slicedToArray(rawCategory, 1),\n                    categoryText = _rawCategory[0]._;\n\n                category = categoryText;\n            }\n            return Object.assign({ title: title, description: description, link: link,\n                guid: guid, summary: summary }, { category: category }, { pubDate: this.formatDate(pubDate), article: article }, media);\n        }\n    }]);\n\n    return ServiceDisruption;\n}(__WEBPACK_IMPORTED_MODULE_0____[\"b\" /* MessageBase */]);\n\n/***/ }),\n/* 13 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return TYPE_EMERGENCY; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return EmergencyMessage; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0____ = __webpack_require__(0);\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\nvar TYPE_EMERGENCY = 'emergency';\nvar EmergencyMessage = function (_MessageBase) {\n    _inherits(EmergencyMessage, _MessageBase);\n\n    function EmergencyMessage(item) {\n        _classCallCheck(this, EmergencyMessage);\n\n        var _this = _possibleConstructorReturn(this, (EmergencyMessage.__proto__ || Object.getPrototypeOf(EmergencyMessage)).call(this));\n\n        var content = _this.extractContent(item);\n        Object.assign(_this, content);\n        return _this;\n    }\n\n    _createClass(EmergencyMessage, [{\n        key: 'extractContent',\n        value: function extractContent(_ref) {\n            var _ref$title = _slicedToArray(_ref.title, 1),\n                title = _ref$title[0],\n                _ref$description = _slicedToArray(_ref.description, 1),\n                description = _ref$description[0],\n                _ref$link = _slicedToArray(_ref.link, 1),\n                link = _ref$link[0],\n                _ref$guid = _slicedToArray(_ref.guid, 1),\n                guid = _ref$guid[0]._,\n                _ref$pubDate = _slicedToArray(_ref.pubDate, 1),\n                pubDate = _ref$pubDate[0];\n\n            return {\n                title: title, description: description, link: link,\n                guid: guid, pubDate: this.formatDate(pubDate)\n            };\n        }\n    }]);\n\n    return EmergencyMessage;\n}(__WEBPACK_IMPORTED_MODULE_0____[\"b\" /* MessageBase */]);\n\n/***/ }),\n/* 14 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export TYPE_WEATHER */\n// import { MessageBase, RawBase } from '.';\nvar TYPE_WEATHER = 'weather';\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// main-bundle.6755e62db86577227be9.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 6755e62db86577227be9","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./socket\"));\n__export(require(\"./socket-client\"));\n//# sourceMappingURL=index.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/mighty-polling-socket-server/dist/index.js\n// module id = 1\n// module chunks = 0","import { SocketPollClient } from 'mighty-polling-socket-server/dist';\nimport './styles/main.scss';\n\nimport {\n  RSSUtility,\n  RSSFeed,\n  Notification\n} from './lib';\nimport { \n  ServiceDisruption,\n  ServiceDisruptionRSSItem,\n  EmergencyMessage,\n  TYPE_DISRUPTION,\n  TYPE_EMERGENCY,\n} from './models';\n\nconst REDIRECT_URL = 'http://uoit.ca/emergency';\n\nconst rss = new RSSUtility();\nconst toast = new Notification();\nconst client = new SocketPollClient();\n\n/**\n * Hold references to all feed containers (also provides a null checks).\n */\nconst emergencyMessageBar = document.getElementById('emergencyMessageBar');\nconst emergencyFeedMessage = document.getElementById('emergencyFeedMessage');\nconst serviceDisruptionMessage = document.getElementById('serviceDisruptionMessage');\n\n/**\n * A bind-ready function for running a 5-second countdown\n * inside the notification displayed before emergency message\n * redirects, to notify of impending redirection.\n */\nconst onNotify = function startCountdown() {\n  let secondsLeft = 5, countdownDone = false;\n  const elements: Element[] = [...this.childNodes];\n  const countdownEl = elements.find(el => el.classList && el.classList.contains('countdown'));\n  countdownEl.innerHTML = `${secondsLeft} seconds`;\n  const ticker = setInterval(() => {\n    secondsLeft--;\n    countdownDone = secondsLeft === 0;\n    countdownEl.innerHTML = countdownDone ? 'Now!' : `${secondsLeft} seconds`;\n    countdownDone && clearInterval(ticker);\n  }, 1000)\n};\n\n/**\n * Performs a redirect after notification has been dismissed.\n */\nconst onDismiss = () => document.location.assign(REDIRECT_URL);\n\n/**\n * Listens to incoming service disruption socket data. Responsible for\n * mapping `ServiceDisruptionRSSItem` objects to more useful `ServiceDisruption`\n * instances, and building a templated list from the items (if any).\n */\nclient.on<TYPE_DISRUPTION, RSSFeed>(TYPE_DISRUPTION, ({ data }) => {\n  /** Sets and compares a cookie of last viewed pubDate */\n  const viewedBefore = rss.checkViewStatus(TYPE_DISRUPTION, data);\n\n  if (serviceDisruptionMessage) {\n    const rssItems = rss.parseItems(data, (item: ServiceDisruptionRSSItem) => new ServiceDisruption(item));\n\n    if (rssItems.length) {\n      const html = rssItems.map((item: ServiceDisruption)  => `<div class=\"emergencyNewsItem\">\n        <a href=\"${ item.link }\" title=\"${ item.title }\"><img src=\"${ item.mediaContent }\" alt=\"${ item.mediaDescription }\" width=\"100\" height=\"67\"></a>\n        <p><strong><a href=\"${ item.link }\">${ item.title }</strong></a></p>\n        <p class=\"date\">${ item.pubDate }</p>\n      </div>`).join('\\n');\n      serviceDisruptionMessage.innerHTML = html;\n    }\n  } // else {\n    if (!viewedBefore) {\n      /** If not viewed, show notification and redirect to new page */\n      const html = `<span class=\"icon_emergency warning text-larger\"></span>\n        <strong>Notice:</strong> A new service disruption has been posted! \n        <a href=\"#\"><strong>More info &raquo;</strong></a>`;\n\n      toast.notify(html, {\n        duration: 8000,\n        className: 'warning',\n        position: {\n          right: true,\n          bottom: true\n        }\n      });\n    }\n  // }\n});\n\n/**\n * Listens to incoming emergency message socket data. Responsible for\n * mapping `RSSItem` objects to more useful `EmergencyMessage`\n * instances, and building a templated list from the items (if any).\n * \n * Checks and tracks view status of last received message; if last\n * has not been tracked as viewed, prompts user with a notification\n * and redirects to a new page. If already viewed, displays info bar.\n */\nclient.on<TYPE_EMERGENCY, RSSFeed>(TYPE_EMERGENCY, ({ data }) => {\n  /** Sets and compares a cookie of last viewed pubDate */\n  const viewedBefore = rss.checkViewStatus(TYPE_EMERGENCY, data);\n  const rssItems = rss.parseItems(data, item => new EmergencyMessage(item));\n\n  if (rssItems.length) {\n    if (emergencyFeedMessage) {\n      const html = rssItems.map(item => `<p class=\"emergencyTitle\">${item.title}</p>\n        <p class=\"emergencyDesc\">${item.description}</p>\n        <p class=\"emergencyDate\">${item.pubDate}</p>`).join('\\n');\n      emergencyFeedMessage.innerHTML = html;\n    }\n\n    if (emergencyMessageBar && viewedBefore) {\n      /** If viewed before, just display info bar */\n      const html = rssItems.map(item => `<div class=\"row\">\n        <a href=\"${REDIRECT_URL}\">\n          <div class=\"emergencyAlert\">\n          Emergency Alert\n          </div>\n          <div class=\"emergencyMessage\">\n            <span class=\"emergencyTitle\">${item.title}</span>\n            <span class=\"emergencyDesc\">${item.description}</span>\n            <span class=\"emergencyDate\">${item.pubDate}</span>\n          </div>\n        </a>\n      </div>`).join('\\n');\n      emergencyMessageBar.innerHTML = html;\n    }\n\n    if (!viewedBefore) { //!emergencyMessageBar && !emergencyFeedMessage && \n      /** If not viewed, show notification and redirect to new page */\n      const html = `<span class=\"icon_emergency alert text-larger\"></span>\n        <strong>Notice:</strong> You are about to be redirected to an emergency message!\n        <br/><small>Redirecting in:</small> <strong class=\"countdown\"></strong>`;\n\n      toast.notify(html, {\n        duration: 5000,\n        className: 'alert',\n        position: {\n          right: true,\n          bottom: true\n        },\n        onNotify,\n        onDismiss\n      });\n    }\n  }\n});\n\n\nconst TYPE_STATS = 'stats';\ntype TYPE_STATS = typeof TYPE_STATS;\ntype Stats = {\n  pool: number;\n  idle: boolean;\n  intervals: any;\n  log: any;\n};\nclient.on<TYPE_STATS, Stats>('stats', ({ data }) => {\n  console.info('[stats]', data)\n});\n\n\n// WEBPACK FOOTER //\n// ./client/index.ts","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Base class for providing a simple proxy to an instantiated\n * `WebSocket` connection.\n *\n * @export\n * @class SocketConnection\n */\nvar SocketConnection = /** @class */ (function () {\n    function SocketConnection(url, endpoint) {\n        if (!url) {\n            var location_1 = document.location;\n            var host = location_1.host, protocol = location_1.protocol, port = location_1.port;\n            url = protocol.replace(/http/, 'ws') + \"//\" + host.replace(/:.*/, '') + (port ? ':8080' : '');\n        }\n        url = url + \"/\" + (endpoint || '');\n        this.connection = new WebSocket(url);\n    }\n    SocketConnection.prototype.onMessage = function (callback) {\n        this.connection.onmessage = callback;\n    };\n    SocketConnection.prototype.close = function () {\n        this.connection.close();\n    };\n    SocketConnection.prototype.send = function (what) {\n        this.connection.send(what);\n    };\n    return SocketConnection;\n}());\nexports.SocketConnection = SocketConnection;\n//# sourceMappingURL=socket.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/mighty-polling-socket-server/dist/socket.js\n// module id = 3\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _1 = require(\".\");\n/**\n * This class represents the base hub for all socket poll related\n * messaging and action. Its primary purpose is to pre-initialize a\n * socket connection, as well as provide callback functions for all\n * configured message types.\n *\n * @example\n * // configure a message type\n * const TYPE_EMERGENCY = 'emergency';\n * // initialize a new feed\n * const feed = new SocketPollClient();\n * // assign an action to a message type\n * feed.on(TYPE_EMERGENCY, items => {...});\n *\n * @export\n * @class SocketPollClient\n */\nvar SocketPollClient = /** @class */ (function () {\n    function SocketPollClient() {\n        this._typeCallbacks = {};\n    }\n    /**\n     * @template T\n     * @param {string} type\n     * @param {(items: T) => void} callback\n     * @memberof SocketPollClient\n     */\n    SocketPollClient.prototype.on = function (type, callback) {\n        this._typeCallbacks[type] = callback;\n        this.addSocketListener(type);\n    };\n    /**\n     * Initializes event listener for socket messages with the\n     * pre-initialized socket connection; passes event data from\n     * message to this class' `onMessage` method.\n     *\n     * @private\n     * @template T\n     * @template D\n     * @param {T} type\n     * @memberof SocketPollClient\n     */\n    SocketPollClient.prototype.addSocketListener = function (type) {\n        var _this = this;\n        var socket = new _1.SocketConnection(null, type);\n        socket.onMessage(function (event) { return _this.onMessage(type, event); });\n        console.log(\"[socket] added listener for \\\"\" + type + \"\\\"\");\n    };\n    /**\n     * Receives a socket's `MessageEvent`; parses the raw string data\n     * into a usable object; determines the type of emergency message\n     * and calls the appropriate callback with the parsed data as its\n     * first argument.\n     *\n     * @private\n     * @template T\n     * @template D\n     * @param {T} type\n     * @param {MessageEvent} event\n     * @memberof SocketPollClient\n     */\n    SocketPollClient.prototype.onMessage = function (type, event) {\n        var eventData = JSON.parse(event.data);\n        console.log(\"[socket] \" + eventData.type + \" message received\", eventData);\n        this._typeCallbacks[type](eventData);\n    };\n    return SocketPollClient;\n}());\nexports.SocketPollClient = SocketPollClient;\n//# sourceMappingURL=socket-client.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/mighty-polling-socket-server/dist/socket-client.js\n// module id = 4\n// module chunks = 0","import '../styles/notification.scss';\n\nexport type NotificationOptions = Partial<{\n  duration: number,\n  className: string,\n  countdown: boolean,\n  position: Partial<{\n    left: boolean,\n    right: boolean,\n    top: boolean,\n    bottom: boolean\n  }>,\n  disableAnimation: boolean,\n  onNotify(): void,\n  onDismiss(): void\n}>;\n\nexport class Notification {\n  private _options: NotificationOptions;\n  private _notification: Element;\n\n  constructor(private _defaults: NotificationOptions = {}) { }\n\n  notify(message: string, options: NotificationOptions = {}) {\n    this._options = {...this._defaults, ...options};\n    this._notification = this._getNotification(message);\n    this._transitionIn();\n    if (this._options.duration) {\n      setTimeout(() => {\n        this._transitionOut();\n      }, this._options.duration);\n    }\n    return this;\n  }\n\n  dismiss() {\n    this._transitionOut();\n  }\n\n  private _getNotification(message: string) {\n    const notificationClasses = this._getNotificationClasses();\n    const template = document.createElement('template');\n    template.innerHTML = `<div data-closable class=\"callout alert-callout ${notificationClasses}\">\n      ${message}\n      <button class=\"close-button\" aria-label=\"Dismiss alert\" type=\"button\" data-close>\n        <span aria-hidden=\"true\">⊗</span>\n      </button>\n    </div>`;\n    return template.content.firstChild as Element;\n  }\n\n  private _transitionIn() {\n    if (this._options.disableAnimation) {\n      document.body.appendChild(this._notification);\n      this._options.onNotify && this._options.onNotify.apply(this._notification);\n    } else {\n      this._notification.classList.remove('fadeOutUp');\n      this._notification.classList.add('fadeInDown');\n      document.body.appendChild(this._notification);\n      setTimeout(() => {\n        this._options.onNotify && this._options.onNotify.apply(this._notification);\n      }, 1000);\n    }\n  }\n\n  private _transitionOut() {\n    if (this._options.disableAnimation) {\n      document.body.removeChild(this._notification);\n      this._options.onDismiss && this._options.onDismiss.apply(this._notification);\n    } else {\n      this._notification.classList.remove('fadeInDown');\n      this._notification.classList.add('fadeOutUp');\n      setTimeout(() => {\n        document.body.removeChild(this._notification);\n        this._options.onDismiss && this._options.onDismiss.apply(this._notification);\n      }, 1000);\n    }\n  }\n\n  private _getNotificationClasses() {\n    const notificationClasses = ['notification'];\n    this._options.position && Object.keys(this._options.position).forEach(key => {\n      this._options.position[key] && notificationClasses.push(`notification-${key}`);\n    });\n    this._options.className && notificationClasses.push(this._options.className);\n    !this._options.disableAnimation && notificationClasses.push('animated');\n    return notificationClasses.join(' ');\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./client/lib/notification.ts","export class DomBuddy {\n  /**\n   * PUBLIC METHODS\n   */\n  addClass(what) {\n    return {\n      to: this._to((it: HTMLElement) => it.classList.add(what))\n    };\n  }\n  removeClass(what) {\n    return {\n      from: this._to((it: HTMLElement) => it.classList.remove(what))\n    };\n  }\n  prepend(what) {\n    return {\n      to: this._to((it: HTMLElement) => it.insertAdjacentHTML('afterbegin', this._normalize(what) as string)),\n      before: this._to((it: HTMLElement) => it.insertAdjacentHTML('beforebegin', this._normalize(what) as string))\n    };\n  }\n  append(what) {\n    return {\n      to: this._to((it: HTMLElement) => it.insertAdjacentHTML('beforeend', this._normalize(what) as string)),\n      after: this._to((it: HTMLElement) => it.insertAdjacentHTML('afterend', this._normalize(what) as string))\n    };\n  }\n  clear(what) {\n    return this._to((it: HTMLElement) => it.innerHTML = '')(what);\n  }\n\n  /**\n   * PRIVATE METHODS\n   */\n  _to(how: (it: Node) => void): (what: Node) => { then: DomBuddy } {\n    return what => {\n      const to = this._normalize(what, false);\n      [...to].forEach((it: Node) => how(it))\n      return { then: this };\n    };\n  }\n  _normalize(what, toString = true) {\n    if (what instanceof NodeList) return toString\n      ? [...what].map(it => (<HTMLElement>it).outerHTML).join('\\n')\n      : [...what]\n    else if (what instanceof Node) return toString\n      ? (<HTMLElement>what).outerHTML\n      : [what]\n    else if (typeof what === 'string') return toString\n      ? what\n      : document.querySelectorAll(what)\n    else throw new Error(`DomBuddy was provided with an invalid value of ${what}`);\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./client/lib/dom.ts","import { RSS } from 'mighty-polling-socket-server';\n\n/** Container type for `xml2js` RSS feeds */\nexport type RSSFeed = { rss: RSS.Feed };\n\n/** One week in seconds */\nconst TWO_WEEKS = 2*7*24*60*60*1000;\n/** Cookie name to reuse for `trackLastViewed` */\nconst COOKIE_NAME = 'last-viewed-pubdate';\n\n/**\n * Utility class for RSS feed parsing and actions.\n * \n * @export\n * @class RSSUtility\n */\nexport class RSSUtility {\n  /**\n   * Shortcut for pulling `<item>` objects out of an RSS feed.\n   * Receives an optional transform function that is applied\n   * to the items after they are extracted. Returns an array of\n   * either `RSS.Item` objects or a type specified in transform.\n   * \n   * @template I \n   * @template T \n   * @param {RSSFeed} data \n   * @param {(item: I) => T} [transform] \n   * @returns {((T | I)[])} \n   * @memberof RSSUtility\n   */\n  parseItems<I extends RSS.Item, T>(data: RSSFeed, transform?: (item: I) => T): (T | I)[] {\n      const channelItems: (T | I)[] = data && data.rss.channel[0].item && data.rss.channel[0].item.length\n        ? <I[]>data.rss.channel[0].item\n        : [];\n      return transform ? channelItems.map(transform) : channelItems;\n  }\n\n  /**\n   * Optionally check the publish date of an incoming RSS data object\n   * against a cookie set to the publish date of the last viewed data.\n   * If the dates do not match, stores the new date in the cookie. Returns\n   * true if viewed already, false if not.\n   * \n   * @param {RSSFeed} data\n   * @memberof RSSUtility\n   */\n  checkViewStatus(type: string, data: RSSFeed) {\n    const cookieName = `${COOKIE_NAME}_${encodeURIComponent(type)}`;\n    let cookieDate;\n    try {\n      const pubDate = (data.rss.channel[0].pubDate || data.rss.channel[0].item[0].pubDate)[0];\n      cookieDate = new Date(pubDate).getTime().toString();\n    } catch (err) {\n      console.warn(`Error parsing RSS pubDate: ${err}`);\n      return;\n    }\n    const lastViewedPubDate = this._getCookie(cookieName);\n    if (cookieDate !== lastViewedPubDate) {\n      this._setCookie(cookieName, cookieDate);\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  /**\n   * Gets a document cookie value by name.\n   * \n   * @private\n   * @param {any} name\n   * @memberof RSSUtility\n   */\n  private _getCookie(name) {\n    const value = `; ${document.cookie}`;\n    const parts = value.split(`; ${name}=`);\n    if (parts.length === 2) {\n      return parts.pop().split(';').shift();\n    }\n  }\n\n  /**\n   * Sets a document cookie by name to a given value and sets\n   * an expiry date of one week from now.\n   * \n   * @private\n   * @param {any} name \n   * @param {any} value \n   * @memberof RSSUtility\n   */\n  private _setCookie(name, value) {\n    const date = new Date();\n    date.setTime(date.getTime() + TWO_WEEKS);\n    document.cookie = `${name}=${value}; expires=${date.toUTCString()}; path=/;`;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/lib/rss.ts","export class MessageBase {\n  private static months = [\n    'January', 'February', 'March',\n    'April', 'May', 'June', 'July',\n    'August', 'September', 'October',\n    'November', 'December'\n  ];\n  protected formatDate?(dateString) {\n    const date = new Date(dateString);\n    return [\n      MessageBase.months[date.getMonth()],\n      ' ', date.getDate(),\n      ', ', date.getFullYear(),\n      ' ', this.leadingZero(date.getHours()),\n      ':', this.leadingZero(date.getMinutes())\n    ].join('');\n  }\n  protected leadingZero?(number) {\n    return number < 10 ? `0${number}` : number;\n  }\n  protected pluck?(obj, props) {\n    // return Object.assign({}, ...props.map(prop => ({[prop]: obj[prop]})));\n    return props.reduce((result, key) => { result[key] = obj[key]; return result; }, {});\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./client/models/message-base.ts","import { XML, RSSExtras } from 'mighty-polling-socket-server';\n\nimport { MessageBase } from '.';\n\nexport const TYPE_DISRUPTION = 'disruption';\nexport type TYPE_DISRUPTION = typeof TYPE_DISRUPTION;\n\nexport type ServiceDisruptionRSSItemContent = {\n  summary: string;\n  article: string;\n}\nexport type ServiceDisruptionRSSItem = RSSExtras.ItemWithMedia & XML.WithContent<ServiceDisruptionRSSItemContent>\n\nexport class ServiceDisruption extends MessageBase {\n  title: string;\n  description: string;\n  link: string;\n  guid: string;\n  summary: string;\n  category: string;\n  pubDate: string;\n  article: string;\n  mediaContent?: string;\n  mediaDescription?: string;\n\n  constructor(item: ServiceDisruptionRSSItem) {\n    super();\n    const content = this.extractContent(item);\n    Object.assign(this, content);\n  }\n\n  private extractContent?({\n    title: [title], description: [description], link: [link],\n    guid: [{ _: guid }], summary: [summary],\n    article: [article], pubDate: [pubDate],\n    category: rawCategory, ['media:content']: rawMedia\n  }: ServiceDisruptionRSSItem): ServiceDisruption {\n    let category, media = {};\n\n    if (rawMedia && rawMedia.length) {\n      const [{\n        $: { url: mediaContent, description: mediaDescription }\n      }] = rawMedia;\n      media = { mediaContent, mediaDescription };\n    }\n\n    if (rawCategory && rawCategory.length) {\n      const [{ _: categoryText }] = rawCategory;\n      category = categoryText;\n    }\n\n    return {\n      title, description, link,\n      guid, summary, ...{ category },\n      pubDate: this.formatDate(pubDate),\n      article, ...media\n    };\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/models/service-disruption.ts","import { RSS } from 'mighty-polling-socket-server';\n\nimport { MessageBase } from '.';\n\nexport const TYPE_EMERGENCY = 'emergency';\nexport type TYPE_EMERGENCY = typeof TYPE_EMERGENCY;\n\nexport class EmergencyMessage extends MessageBase {\n  title: string;\n  description: string;\n  link: string;\n  guid: string;\n  pubDate: string;\n\n  constructor(item: RSS.Item) {\n    super();\n    const content = this.extractContent(item);\n    Object.assign(this, content);\n  }\n\n  private extractContent?({\n    title: [title], description: [description],\n    link: [link], guid: [{ _: guid }], pubDate: [pubDate]\n  }: RSS.Item): EmergencyMessage {\n    return {\n      title, description, link,\n      guid, pubDate: this.formatDate(pubDate),\n    };\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/models/emergency-message.ts"],"sourceRoot":""}