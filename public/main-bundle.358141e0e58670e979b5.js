!function(t){function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var e={};n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=2)}([function(t,n,e){"use strict";var i=e(10);e.d(n,"b",function(){return i.a});var o=e(11);e.d(n,"c",function(){return o.a}),e.d(n,"d",function(){return o.b});var r=e(12);e.d(n,"a",function(){return r.a}),e.d(n,"e",function(){return r.b});e(13)},function(t,n,e){"use strict";function i(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}Object.defineProperty(n,"__esModule",{value:!0}),i(e(3)),i(e(4))},function(t,n,e){"use strict";function i(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}Object.defineProperty(n,"__esModule",{value:!0});var o=e(1),r=(e.n(o),e(5)),a=(e.n(r),e(6)),s=e(0),c=new a.b,u=new a.a,l=new o.SocketPollClient,f=document.getElementById("emergency-message"),p=document.getElementById("emergency-message-list"),d=document.getElementById("service-disruption-list"),h=function(){var t=5,n=!1,e=[].concat(i(this.childNodes)),o=e.find(function(t){return t.classList&&t.classList.contains("countdown")});o.innerHTML=t+" seconds";var r=setInterval(function(){t--,n=0===t,o.innerHTML=n?"Now!":t+" seconds",n&&clearInterval(r)},1e3)},y=function(){return document.location.assign("http://uoit.ca/emergency")};l.on(s.d,function(t){var n=t.data,e=c.checkViewStatus(s.d,n);if(d){var i=c.parseItems(n,function(t){return new s.c(t)});i.length&&(d.innerHTML=i.map(function(t){return'<div class="emergencyNewsItem">\n        <a href="'+t.link+'" title="'+t.title+'"><img src="'+t.mediaContent+'" alt="'+t.mediaDescription+'" width="100" height="67"></a>\n        <p><strong><a href="'+t.link+'">'+t.title+'</strong></a></p>\n        <p class="date">'+t.pubDate+"</p>\n      </div>"}).join("\n"))}e||u.notify('<span class="icon_emergency warning text-larger"></span>\n        <strong>Notice:</strong> A new service disruption has been posted! \n        <a href="#"><strong>More info &raquo;</strong></a>',{duration:8e3,className:"warning",position:{right:!0,bottom:!0}})}),l.on(s.e,function(t){var n=t.data,e=c.checkViewStatus(s.e,n),i=c.parseItems(n,function(t){return new s.a(t)});i.length?(p&&(p.innerHTML=i.map(function(t){return'<p class="emergencyTitle">'+t.title+'</p>\n        <p class="emergencyDesc">'+t.description+'</p>\n        <p class="emergencyDate">'+t.pubDate+"</p>"}).join("\n")),f&&e&&(f.innerHTML=i.map(function(t){return'<div class="row">\n        <a href="http://uoit.ca/emergency">\n          <div class="emergencyAlert">\n          Emergency Alert\n          </div>\n          <div class="emergencyMessage">\n            <span class="emergencyTitle">'+t.title+'</span>\n            <span class="emergencyDesc">'+t.description+'</span>\n            <span class="emergencyDate">'+t.pubDate+"</span>\n          </div>\n        </a>\n      </div>"}).join("\n")),e||
//!emergencyMessageBarEl && !emergencyFeedMessageEl &&
u.notify('<span class="icon_emergency alert text-larger"></span>\n        <strong>Notice:</strong> You are about to be redirected to an emergency message!\n        <br/><small>Redirecting in:</small> <strong class="countdown"></strong>',{duration:5e3,className:"alert",position:{right:!0,bottom:!0},onNotify:h,onDismiss:y})):(p&&(p.innerHTML="<p>\n        There are no emergencies at Ontario Tech University at this time.\n        <br>Please see information below for updates.\n      </p>"),f&&(f.innerHTML=""))})},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){if(!t){var e=document.location,i=e.host,o=e.protocol,r=e.port;t=o.replace(/http/,"ws")+"//"+i.replace(/:.*/,"")+(r?":"+r:"")}t=t+"/"+(n||""),this.connection=new WebSocket(t)}return t.prototype.onMessage=function(t){this.connection.onmessage=t},t.prototype.close=function(){this.connection.close()},t.prototype.send=function(t){this.connection.send(t)},t}();n.SocketConnection=i},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e(1),o=function(){function t(t){this.baseUrl=t,this._typeCallbacks={}}return t.prototype.on=function(t,n){this._typeCallbacks[t]=n,this.addSocketListener(t)},t.prototype.addSocketListener=function(t){var n=this;new i.SocketConnection(this.baseUrl,t).onMessage(function(e){return n.onMessage(t,e)}),console.log('[socket] added listener for "'+t+'"')},t.prototype.onMessage=function(t,n){var e=JSON.parse(n.data);console.log("[socket] "+e.type+" message received",e),this._typeCallbacks[t](e)},t}();n.SocketPollClient=o},function(t,n){},function(t,n,e){"use strict";var i=e(7);e.d(n,"b",function(){return i.a});var o=e(8);e.d(n,"a",function(){return o.a})},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}e.d(n,"a",function(){return r});var o=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=function(){function t(){i(this,t)}return o(t,[{key:"parseItems",value:function(t,n){var e=t&&t.rss.channel[0].item&&t.rss.channel[0].item.length?t.rss.channel[0].item:[];return n?e.map(n):e}},{key:"checkViewStatus",value:function(t,n,e){var i=this._getCookieName(t),o=void 0;try{var r=void 0;n.rss.channel&&n.rss.channel[0].item&&(r=(n.rss.channel[0].pubDate||n.rss.channel[0].item[0].pubDate)[0]),o=new Date(r).getTime().toString()}catch(t){return void console.warn("Error parsing RSS pubDate: "+t)}var a=this._getCookie(i),s=o===a;return e&&e(s),s||this._setCookie(i,o)||!1}},{key:"_getCookieName",value:function(t){return"last-viewed-pubdate_"+encodeURIComponent(t)}},{key:"_getCookie",value:function(t){var n="; "+document.cookie,e=n.split("; "+t+"=");if(2===e.length)return e.pop().split(";").shift()}},{key:"_setCookie",value:function(t,n){var e=new Date;e.setTime(e.getTime()+12096e5),document.cookie=t+"="+n+"; expires="+e.toUTCString()+"; path=/;"}}]),t}()},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}e.d(n,"a",function(){return a});var o=e(9),r=(e.n(o),function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}()),a=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,t),this._defaults=n}return r(t,[{key:"notify",value:function(t){var n=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._options=Object.assign({},this._defaults,e),this._notification=this._getNotification(t),this._transitionIn(),this._options.duration&&setTimeout(function(){n._transitionOut()},this._options.duration),this}},{key:"dismiss",value:function(){this._transitionOut()}},{key:"_getNotification",value:function(t){var n=this._getNotificationClasses(),e=document.createElement("template");return e.innerHTML='<div data-closable class="callout alert-callout '+n+'">\n      '+t+'\n      <button class="close-button" aria-label="Dismiss alert" type="button" data-close>\n        <span aria-hidden="true">âŠ—</span>\n      </button>\n    </div>',e.content.firstChild}},{key:"_transitionIn",value:function(){var t=this;this._options.disableAnimation?(document.body.appendChild(this._notification),this._options.onNotify&&this._options.onNotify.apply(this._notification)):(this._notification.classList.remove("fadeOutUp"),this._notification.classList.add("fadeInDown"),document.body.appendChild(this._notification),setTimeout(function(){t._options.onNotify&&t._options.onNotify.apply(t._notification)},1e3))}},{key:"_transitionOut",value:function(){var t=this;this._options.disableAnimation?(document.body.removeChild(this._notification),this._options.onDismiss&&this._options.onDismiss.apply(this._notification)):(this._notification.classList.remove("fadeInDown"),this._notification.classList.add("fadeOutUp"),setTimeout(function(){document.body.removeChild(t._notification),t._options.onDismiss&&t._options.onDismiss.apply(t._notification)},1e3))}},{key:"_getNotificationClasses",value:function(){var t=this,n=["notification"];return this._options.position&&Object.keys(this._options.position).forEach(function(e){t._options.position[e]&&n.push("notification-"+e)}),this._options.className&&n.push(this._options.className),!this._options.disableAnimation&&n.push("animated"),n.join(" ")}}]),t}()},function(t,n){},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}e.d(n,"a",function(){return r});var o=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=function(){function t(){i(this,t)}return o(t,[{key:"formatDate",value:function(n){var e=new Date(n);return[t.months[e.getMonth()]," ",e.getDate(),", ",e.getFullYear()," ",this.leadingZero(e.getHours()),":",this.leadingZero(e.getMinutes())].join("")}},{key:"leadingZero",value:function(t){return t<10?"0"+t:t.toString()}},{key:"pluck",value:function(t,n){return n.reduce(function(n,e){return n[e]=t[e],n},{})}}]),t}();r.months=["January","February","March","April","May","June","July","August","September","October","November","December"]},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function o(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function r(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}e.d(n,"b",function(){return u}),e.d(n,"a",function(){return l});var a=e(0),s=function(){function t(t,n){var e=[],i=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(e.push(a.value),!n||e.length!==n);i=!0);}catch(t){o=!0,r=t}finally{try{!i&&s.return&&s.return()}finally{if(o)throw r}}return e}return function(n,e){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),u="disruption",l=function(t){function n(t){i(this,n);var e=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this)),r=e.extractContent(t);return Object.assign(e,r),e}return r(n,t),c(n,[{key:"extractContent",value:function(t){var n=s(t.title,1),e=n[0],i=s(t.description,1),o=i[0],r=s(t.link,1),a=r[0],c=s(t.guid,1),u=c[0]._,l=s(t.summary,1),f=l[0],p=s(t.article,1),d=p[0],h=s(t.pubDate,1),y=h[0],m=t.category,b=t["media:content"],v=void 0,g={};if(b&&b.length){var _=s(b,1),w=_[0].$;g={mediaContent:w.url,mediaDescription:w.description}}if(m&&m.length){v=s(m,1)[0]._}return Object.assign({title:e,description:o,link:a,guid:u,summary:f},{category:v},{pubDate:this.formatDate(y),article:d},g)}}]),n}(a.b)},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function o(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function r(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}e.d(n,"b",function(){return u}),e.d(n,"a",function(){return l});var a=e(0),s=function(){function t(t,n){var e=[],i=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(e.push(a.value),!n||e.length!==n);i=!0);}catch(t){o=!0,r=t}finally{try{!i&&s.return&&s.return()}finally{if(o)throw r}}return e}return function(n,e){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),u="emergency",l=function(t){function n(t){i(this,n);var e=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this)),r=e.extractContent(t);return Object.assign(e,r),e}return r(n,t),c(n,[{key:"extractContent",value:function(t){var n=s(t.title,1),e=n[0],i=s(t.description,1),o=i[0],r=s(t.link,1),a=r[0],c=s(t.guid,1),u=c[0]._,l=s(t.pubDate,1),f=l[0];return{title:e,description:o,link:a,guid:u,pubDate:this.formatDate(f)}}}]),n}(a.b)},function(t,n,e){"use strict"}]);
//# sourceMappingURL=main-bundle.358141e0e58670e979b5.js.map