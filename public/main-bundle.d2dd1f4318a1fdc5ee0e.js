!function(t){function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var e={};n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=2)}([function(t,n,e){"use strict";var r=e(11);e.d(n,"b",function(){return r.a});var i=e(12);e.d(n,"c",function(){return i.a}),e.d(n,"d",function(){return i.b});var o=e(13);e.d(n,"a",function(){return o.a}),e.d(n,"e",function(){return o.b});e(14)},function(t,n,e){"use strict";var r=e(3);e.d(n,"a",function(){return r.a});var i=e(4);e.d(n,"b",function(){return i.a})},function(t,n,e){"use strict";function r(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}Object.defineProperty(n,"__esModule",{value:!0});var i=e(1),o=e(5),a=(e.n(o),e(6)),u=e(0),s=new a.b,c=new a.a,f=new i.b,l=document.getElementById("emergencyMessageBar"),p=document.getElementById("emergencyFeedMessage"),d=document.getElementById("serviceDisruptionMessage"),h=function(){var t=5,n=!1,e=[].concat(r(this.childNodes)),i=e.find(function(t){return t.classList&&t.classList.contains("countdown")});i.innerHTML=t+" seconds";var o=setInterval(function(){t--,n=0===t,i.innerHTML=n?"Now!":t+" seconds",n&&clearInterval(o)},1e3)},y=function(){return document.location.assign("http://uoit.ca/emergency")};f.on(u.d,function(t){var n=t.data,e=s.checkViewStatus(u.d,n);if(d){var r=s.parseItems(n,function(t){return new u.c(t)});r.length&&(d.innerHTML=r.map(function(t){return'<div class="emergencyNewsItem">\n        <a href="'+t.link+'" title="'+t.title+'"><img src="'+t.mediaContent+'" alt="'+t.mediaDescription+'" width="100" height="67"></a>\n        <p><strong><a href="'+t.link+'">'+t.title+'</strong></a></p>\n        <p class="date">'+t.pubDate+"</p>\n      </div>"}).join("\n"))}e||c.notify('<span class="icon_emergency warning text-larger"></span>\n        <strong>Notice:</strong> A new service disruption has been posted! \n        <a href="#"><strong>More info &raquo;</strong></a>',{duration:8e3,className:"warning",position:{right:!0,bottom:!0}})}),f.on(u.e,function(t){var n=t.data,e=s.checkViewStatus(u.e,n),r=s.parseItems(n,function(t){return new u.a(t)});r.length?(p&&(p.innerHTML=r.map(function(t){return'<p class="emergencyTitle">'+t.title+'</p>\n        <p class="emergencyDesc">'+t.description+'</p>\n        <p class="emergencyDate">'+t.pubDate+"</p>"}).join("\n")),l&&e&&(l.innerHTML=r.map(function(t){return'<div class="row">\n        <a href="http://uoit.ca/emergency">\n          <div class="emergencyAlert">\n          Emergency Alert\n          </div>\n          <div class="emergencyMessage">\n            <span class="emergencyTitle">'+t.title+'</span>\n            <span class="emergencyDesc">'+t.description+'</span>\n            <span class="emergencyDate">'+t.pubDate+"</span>\n          </div>\n        </a>\n      </div>"}).join("\n")),e||c.notify('<span class="icon_emergency alert text-larger"></span>\n        <strong>Notice:</strong> You are about to be redirected to an emergency message!\n        <br/><small>Redirecting in:</small> <strong class="countdown"></strong>',{duration:5e3,className:"alert",position:{right:!0,bottom:!0},onNotify:h,onDismiss:y})):(p&&(p.innerHTML="<p>\n        There are no emergencies at the University of Ontario Institute of Technology at this time.\n        <br>Please see information below for updates.\n      </p>"),l&&(l.innerHTML=""))})},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}e.d(n,"a",function(){return o});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),o=function(){function t(n,e){if(r(this,t),!n){var i=document,o=i.location,a=o.host,u=o.protocol,s=o.port;n=u.replace(/http/,"ws")+"//"+a.replace(/:.*/,"")+(s&&":"+s)}n=n+"/"+(e||""),this.connection=new WebSocket(n)}return i(t,[{key:"onMessage",value:function(t){this.connection.onmessage=t}},{key:"close",value:function(){this.connection.close()}},{key:"send",value:function(t){this.connection.send(t)}}]),t}()},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}e.d(n,"a",function(){return a});var i=e(1),o=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),a=function(){function t(){r(this,t),this._typeCallbacks={}}return o(t,[{key:"on",value:function(t,n){this._typeCallbacks[t]=n,this.addSocketListener(t)}},{key:"addSocketListener",value:function(t){var n=this;new i.a(null,t).onMessage(function(e){return n.onMessage(t,e)}),console.log('[socket] added listener for "'+t+'"')}},{key:"onMessage",value:function(t,n){var e=JSON.parse(n.data);console.log("[socket] "+e.type+" message received",e),this._typeCallbacks[t](e)}}]),t}()},function(t,n){},function(t,n,e){"use strict";var r=e(7);e.d(n,"a",function(){return r.a});var i=(e(9),e(10));e.d(n,"b",function(){return i.a})},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}e.d(n,"a",function(){return a});var i=e(8),o=(e.n(i),function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}()),a=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t),this._defaults=n}return o(t,[{key:"notify",value:function(t){var n=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._options=Object.assign({},this._defaults,e),this._notification=this._getNotification(t),this._transitionIn(),this._options.duration&&setTimeout(function(){n._transitionOut()},this._options.duration),this}},{key:"dismiss",value:function(){this._transitionOut()}},{key:"_getNotification",value:function(t){var n=this._getNotificationClasses(),e=document.createElement("template");return e.innerHTML='<div data-closable class="callout alert-callout '+n+'">\n      '+t+'\n      <button class="close-button" aria-label="Dismiss alert" type="button" data-close>\n        <span aria-hidden="true">âŠ—</span>\n      </button>\n    </div>',e.content.firstChild}},{key:"_transitionIn",value:function(){var t=this;this._options.disableAnimation?(document.body.appendChild(this._notification),this._options.onNotify&&this._options.onNotify.apply(this._notification)):(this._notification.classList.remove("fadeOutUp"),this._notification.classList.add("fadeInDown"),document.body.appendChild(this._notification),setTimeout(function(){t._options.onNotify&&t._options.onNotify.apply(t._notification)},1e3))}},{key:"_transitionOut",value:function(){var t=this;this._options.disableAnimation?(document.body.removeChild(this._notification),this._options.onDismiss&&this._options.onDismiss.apply(this._notification)):(this._notification.classList.remove("fadeInDown"),this._notification.classList.add("fadeOutUp"),setTimeout(function(){document.body.removeChild(t._notification),t._options.onDismiss&&t._options.onDismiss.apply(t._notification)},1e3))}},{key:"_getNotificationClasses",value:function(){var t=this,n=["notification"];return this._options.position&&Object.keys(this._options.position).forEach(function(e){t._options.position[e]&&n.push("notification-"+e)}),this._options.className&&n.push(this._options.className),!this._options.disableAnimation&&n.push("animated"),n.join(" ")}}]),t}()},function(t,n){},function(t,n,e){"use strict";function r(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}();!function(){function t(){i(this,t)}o(t,[{key:"addClass",value:function(t){return{to:this._to(function(n){return n.classList.add(t)})}}},{key:"removeClass",value:function(t){return{from:this._to(function(n){return n.classList.remove(t)})}}},{key:"prepend",value:function(t){var n=this;return{to:this._to(function(e){return e.insertAdjacentHTML("afterbegin",n._normalize(t))}),before:this._to(function(e){return e.insertAdjacentHTML("beforebegin",n._normalize(t))})}}},{key:"append",value:function(t){var n=this;return{to:this._to(function(e){return e.insertAdjacentHTML("beforeend",n._normalize(t))}),after:this._to(function(e){return e.insertAdjacentHTML("afterend",n._normalize(t))})}}},{key:"clear",value:function(t){return this._to(function(t){return t.innerHTML=""})(t)}},{key:"_to",value:function(t){var n=this;return function(e){return[].concat(r(n._normalize(e,!1))).forEach(function(n){return t(n)}),{then:n}}}},{key:"_normalize",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t instanceof NodeList)return n?[].concat(r(t)).map(function(t){return t.outerHTML}).join("\n"):[].concat(r(t));if(t instanceof Node)return n?t.outerHTML:[t];if("string"==typeof t)return n?t:document.querySelectorAll(t);throw new Error("DomBuddy was provided with an invalid value of "+t)}}])}()},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}e.d(n,"a",function(){return o});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),o=function(){function t(){r(this,t)}return i(t,[{key:"parseItems",value:function(t,n){var e=t&&t.rss.channel[0].item&&t.rss.channel[0].item.length?t.rss.channel[0].item:[];return n?e.map(n):e}},{key:"checkViewStatus",value:function(t,n){var e="last-viewed-pubdate_"+encodeURIComponent(t),r=void 0;try{var i=(n.rss.channel[0].pubDate||n.rss.channel[0].item[0].pubDate)[0];r=new Date(i).getTime().toString()}catch(t){return void console.warn("Error parsing RSS pubDate: "+t)}return r===this._getCookie(e)||(this._setCookie(e,r),!1)}},{key:"_getCookie",value:function(t){var n="; "+document.cookie,e=n.split("; "+t+"=");if(2===e.length)return e.pop().split(";").shift()}},{key:"_setCookie",value:function(t,n){var e=new Date;e.setTime(e.getTime()+12096e5),document.cookie=t+"="+n+"; expires="+e.toUTCString()+"; path=/;"}}]),t}()},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}e.d(n,"a",function(){return o});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),o=function(){function t(){r(this,t)}return i(t,[{key:"formatDate",value:function(n){var e=new Date(n);return[t.months[e.getMonth()]," ",e.getDate(),", ",e.getFullYear()," ",this.leadingZero(e.getHours()),":",this.leadingZero(e.getMinutes())].join("")}},{key:"leadingZero",value:function(t){return t<10?"0"+t:t}},{key:"pluck",value:function(t,n){return n.reduce(function(n,e){return n[e]=t[e],n},{})}}]),t}();o.months=["January","February","March","April","May","June","July","August","September","October","November","December"]},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function i(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function o(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}e.d(n,"b",function(){return c}),e.d(n,"a",function(){return f});var a=e(0),u=function(){function t(t,n){var e=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(e.push(a.value),!n||e.length!==n);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return e}return function(n,e){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),c="disruption",f=function(t){function n(t){r(this,n);var e=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this)),o=e.extractContent(t);return Object.assign(e,o),e}return o(n,t),s(n,[{key:"extractContent",value:function(t){var n=u(t.title,1),e=n[0],r=u(t.description,1),i=r[0],o=u(t.link,1),a=o[0],s=u(t.guid,1),c=s[0]._,f=u(t.summary,1),l=f[0],p=u(t.article,1),d=p[0],h=u(t.pubDate,1),y=h[0],v=t.category,m=t["media:content"],b=void 0,g={};if(m&&m.length){var _=u(m,1),w=_[0].$;g={mediaContent:w.url,mediaDescription:w.description}}if(v&&v.length){b=u(v,1)[0]._}return Object.assign({title:e,description:i,link:a,guid:c,summary:l},{category:b},{pubDate:this.formatDate(y),article:d},g)}}]),n}(a.b)},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function i(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function o(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}e.d(n,"b",function(){return c}),e.d(n,"a",function(){return f});var a=e(0),u=function(){function t(t,n){var e=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(e.push(a.value),!n||e.length!==n);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return e}return function(n,e){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),c="emergency",f=function(t){function n(t){r(this,n);var e=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this)),o=e.extractContent(t);return Object.assign(e,o),e}return o(n,t),s(n,[{key:"extractContent",value:function(t){var n=u(t.title,1),e=n[0],r=u(t.description,1),i=r[0],o=u(t.link,1),a=o[0],s=u(t.guid,1),c=s[0]._,f=u(t.pubDate,1),l=f[0];return{title:e,description:i,link:a,guid:c,pubDate:this.formatDate(l)}}}]),n}(a.b)},function(t,n,e){"use strict"}]);
//# sourceMappingURL=main-bundle.d2dd1f4318a1fdc5ee0e.js.map